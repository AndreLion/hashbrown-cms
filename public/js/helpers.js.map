{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/Client/Helpers/index.js","webpack:///./src/Client/Helpers/ConnectionHelper.js","webpack:///./src/Common/Helpers/ConnectionHelper.js","webpack:///./src/Client/Helpers/ContentHelper.js","webpack:///./src/Common/Helpers/ContentHelper.js","webpack:///./src/Client/Helpers/FormHelper.js","webpack:///./src/Client/Helpers/DebugHelper.js","webpack:///./src/Common/Helpers/DebugHelper.js","webpack:///./src/Client/Helpers/LanguageHelper.js","webpack:///./src/Common/Helpers/LanguageHelper.js","webpack:///./src/Client/Helpers/MarkdownHelper.js","webpack:///./src/Client/Helpers/MediaHelper.js","webpack:///./src/Common/Helpers/MediaHelper.js","webpack:///./src/Client/Helpers/ProjectHelper.js","webpack:///./src/Client/Helpers/RequestHelper.js","webpack:///./src/Client/Helpers/ResourceHelper.js","webpack:///./src/Client/Helpers/SchemaHelper.js","webpack:///./src/Common/Helpers/SchemaHelper.js","webpack:///./src/Client/Helpers/SettingsHelper.js","webpack:///./src/Common/Helpers/SettingsHelper.js","webpack:///./src/Client/Helpers/UIHelper.js","webpack:///./src/Client/Helpers/EventHelper.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;AClFa;;AAEb;AACA;AACA;AACA;AACA,KAAK,mBAAO,CAAC,EAAoB;AACjC,KAAK,mBAAO,CAAC,EAAiB;AAC9B,KAAK,mBAAO,CAAC,EAAc;AAC3B,KAAK,mBAAO,CAAC,EAAe;AAC5B,KAAK,mBAAO,CAAC,EAAkB;AAC/B,KAAK,mBAAO,CAAC,EAAkB;AAC/B,KAAK,mBAAO,CAAC,EAAe;AAC5B,KAAK,mBAAO,CAAC,EAAiB;AAC9B,KAAK,mBAAO,CAAC,EAAiB;AAC9B,KAAK,mBAAO,CAAC,EAAkB;AAC/B,KAAK,mBAAO,CAAC,EAAgB;AAC7B,KAAK,mBAAO,CAAC,EAAkB;AAC/B,KAAK,mBAAO,CAAC,EAAY;AACzB,KAAK,mBAAO,CAAC,EAAe;;;;;;;;ACnBf;;AAEb,+BAA+B,mBAAO,CAAC,EAAiC;;AAExE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,4BAA4B;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,mBAAmB,WAAW,EAAE,OAAO,EAAE;;AAEjF;;AAEA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,4BAA4B;AAC5C;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;;;;;;;AClFa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;;AAEA;;;;;;;;AC9Ca;;AAEb,4BAA4B,mBAAO,CAAC,EAA8B;;AAElE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,iBAAiB,yBAAyB;AAC1C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,yBAAyB,aAAa;;AAEtC;AACA;AACA,yBAAyB,QAAQ;;AAEjC;AACA;AACA,4CAA4C,wBAAwB;;AAEpE;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uC;;AAEA,SAAS;AACT;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,mBAAmB,WAAW,EAAE,OAAO,EAAE;;AAEjF;;AAEA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;;;;;;;AC3Ma;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;;AAErB;AACA,iBAAiB;AACjB;;AAEA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;;;;;;;ACpJa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wCAAwC,mBAAmB,WAAW,EAAE,OAAO,EAAE;;AAEjF;;AAEA;;AAEA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;;;;;;;;AClDa;;AAEb,0BAA0B,mBAAO,CAAC,EAA4B;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACZa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA,aAAa;AACb;;AAEA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA,0BAA0B,kBAAkB;;AAE5C;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA,8CAA8C,qBAAqB;;AAEnE;;AAEA;AACA;AACA;;AAEA;;;;;;;;AC3La;;AAEb,6BAA6B,mBAAO,CAAC,EAA+B;;AAEpE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACxDa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACpQa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;;AAEb;;AAEA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,aAAa;;AAEb;AACA,+BAA+B,uBAAuB;AACtD;AACA;;AAEA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,iEAAiE;AACjE;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,iBAAiB,gCAAgC;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,KAAK;AACxB,oBAAoB,KAAK;AACzB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,KAAK;AACxB,mBAAmB,KAAK;AACxB,mBAAmB,SAAS;AAC5B,oBAAoB;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,+DAA+D;;AAE/D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,IAAI;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,oCAAoC;AACpC;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,uBAAuB,eAAe;AACtC;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,mBAAmB;AACtD,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B,uBAAuB,OAAO;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,oBAAoB,IAAI,SAAS,GAAG,SAAS,GAAG,UAAU,GAAG;AAC7D,4BAA4B,IAAI;AAChC;AACA,6BAA6B,IAAI;AACjC,uBAAuB,IAAI,6BAA6B,GAAG;AAC3D,sBAAsB,IAAI;AAC1B;AACA;AACA;AACA;AACA;AACA,uDAAuD,GAAG;AAC1D,4GAA4G,GAAG;AAC/G,4FAA4F,GAAG;AAC/F;AACA,qBAAqB,IAAI;AACzB;AACA,0CAA0C,GAAG;AAC7C,8DAA8D,IAAI;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,IAAI;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD,GAAG,SAAS,GAAG,WAAW,GAAG;AAC/E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+BAA+B;;AAE/B;AACA;AACA;;AAEA,4BAA4B;AAC5B,wBAAwB,IAAI,GAAG,GAAG,GAAG,GAAG,kCAAkC,IAAI;AAC9E;AACA,4BAA4B,IAAI;AAChC,SAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+BAA+B;AAC/B;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA,iCAAiC;AACjC;AACA;AACA,mDAAmD,GAAG;AACtD,4EAA4E,GAAG;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA,6CAA6C,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mCAAmC,uBAAuB;AAC1D;AACA;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA;AACA;;AAEA,mCAAmC,uBAAuB;AAC1D;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;;AAErB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;;AAErB;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,0BAA0B,OAAO;AACjC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,8DAA8D,gBAAgB;AAC9E,mDAAmD,IAAI;AACvD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,yBAAyB;AACzB;;AAEA;AACA;AACA;AACA,8BAA8B,OAAO;AACrC;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;;AAErB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,mCAAmC,uBAAuB;AAC1D;AACA;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA,6BAA6B;AAC7B;AACA;AACA;;AAEA,mCAAmC,uBAAuB;AAC1D;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,4CAA4C,eAAe,EAAE;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,GAAG;AACxB;AACA,yDAAyD,GAAG;AAC5D;;AAEA;AACA;AACA,mDAAmD,WAAW,EAAE;AAChE;;AAEA,iDAAiD,eAAe,EAAE;;AAElE,iDAAiD,KAAK;AACtD,mDAAmD,EAAE,kCAAkC,KAAK,6CAA6C,KAAK;AAC9I;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gCAAgC;;AAEhC;AACA;AACA;;AAEA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA,6BAA6B;AAC7B;AACA;AACA;AACA,oCAAoC,oCAAoC,UAAU;AAClF;AACA;AACA;AACA,gFAAgF,IAAI;AACpF;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC;AAChC,0CAA0C,GAAG;AAC7C,kDAAkD,GAAG;AACrD,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,6BAA6B,EAAE;AAC/B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA,qCAAqC;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAwB,iBAAiB,6BAA6B;AACtE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,8BAA8B;AAC7D;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;;AAEA,+BAA+B,6BAA6B;AAC5D;;AAEA;AACA,mCAAmC,gBAAgB;AACnD;AACA;AACA,iCAAiC;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uEAAuE,WAAW,EAAE;AACpF;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,6EAA6E,gCAAgC,EAAE;AAC/G;AACA,aAAa;AACb;AACA,qFAAqF,gCAAgC,EAAE;AACvH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB;AACvB,sBAAsB;AACtB,sBAAsB;AACtB,wBAAwB;AACxB,uBAAuB;AACvB;;AAEA,sDAAsD;AACtD,yDAAyD;;AAEzD;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;;AAEA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA,iBAAiB;AACjB;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,8BAA8B,4BAA4B;;AAE1D;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,sBAAsB,mBAAmB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;;AAEA;AACA;AACA;AACA,uCAAuC;AACvC;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;;AC7kFa;;AAEb,0BAA0B,mBAAO,CAAC,EAA4B;;AAE9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,a;;AAEA;AACA,SAAS,E;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,K;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA,iBAAiB,8BAA8B;;AAE/C;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS,E;;AAET;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;AChHa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA,+C;AACA,SAAS;AACT;AACA,wB;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA,iCAAiC;AACjC;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;AC/Da;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA,6CAA6C,aAAa;;AAE1D;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;;AAEA,6CAA6C,aAAa;;AAE1D;AACA;AACA;;AAEA;;;;;;;;ACnCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,8B;AACA;AACA,aAAa;AACb,SAAS;AACT,+FAA+F,uBAAuB;AACtH;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,aAAa;AACb;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,qBAAqB;AACrB;;AAEA;AACA;AACA;;AAEA,6BAA6B;AAC7B;;AAEA;AACA;;AAEA,6CAA6C,iBAAiB;;AAE9D;;AAEA,qBAAqB;AACrB;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;;AAEA;;;;;;;;AC1Ka;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAa;AACb;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,yDAAyD,sCAAsC;AAC/F,qDAAqD,sCAAsC;AAC3F,qDAAqD,sCAAsC;AAC3F,mDAAmD,sCAAsC;AACzF,mDAAmD,sCAAsC;AACzF,mDAAmD,sCAAsC;AACzF;;AAEA,aAAa;AACb;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB;AACjB;;AAEA;AACA,aAAa;AACb,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,0E;AACA;;AAEA;;AAEA;AACA,kCAAkC,6DAA6D;;AAE/F;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,8D;;AAEA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,8D;;AAEA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,8D;;AAEA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,0BAA0B;AACzC,eAAe,OAAO;AACtB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,8BAA8B,6DAA6D;;AAE3F;AACA,oCAAoC,UAAU;;AAE9C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,8D;;AAEA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,0BAA0B;AACzC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,iBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,6BAA6B,mEAAmE;;AAEhG;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,8D;;AAEA,SAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,8D;;AAEA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT;;AAEA;AACA;AACA;;AAEA;;;;;;;;AC/Xa;;AAEb,2BAA2B,mBAAO,CAAC,EAA6B;;AAEhE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,iBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;;AAEA;AACA,8CAA8C,UAAU;;AAExD;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;ACvEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA,gBAAgB,OAAO;AACvB;AACA;AACA,yBAAyB,aAAa;;AAEtC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB;AACjB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,0BAA0B;AACpE,0CAA0C,0BAA0B;;AAEpE;AACA;;AAEA;AACA;AACA,wCAAwC,wBAAwB;AAChE,uCAAuC,uBAAuB;;AAE9D;;AAEA;AACA,0CAA0C,0BAA0B;AACpE,qDAAqD,qCAAqC;AAC1F,yCAAyC,yBAAyB;AAClE,oDAAoD,oCAAoC;;AAExF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;AC7Ga;;AAEb,6BAA6B,mBAAO,CAAC,EAA+B;;AAEpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,gBAAgB,gBAAgB;AAChC;AACA;AACA;;AAEA,iCAAiC,oBAAoB;;AAErD;;AAEA;AACA,wC;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA,iCAAiC,oBAAoB;;AAErD;;AAEA;;AAEA;AACA,wC;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;AC3Ea;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACVa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,QAAQ;AACvB;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA,6BAA6B,yGAAyG;AACtI,mBAAmB,gCAAgC;AACnD,uBAAuB,8CAA8C;AACrE;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,oBAAoB;AACnC,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,0BAA0B;;AAEhD;AACA;AACA;;AAEA;AACA;;AAEA,oCAAoC,sGAAsG,oCAAoC,EAAE;AAChL,uBAAuB,qCAAqC;AAC5D,uBAAuB,gFAAgF,wCAAwC,EAAE;AACjJ;AACA,2BAA2B,kCAAkC;AAC7D,+BAA+B,wCAAwC;AACvE;AACA,sCAAsC,mEAAmE;AACzG;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,iCAAiC,QAAQ;;AAEzC;AACA,aAAa;;AAEb;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA,6BAA6B,wDAAwD;AACrF;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,YAAY;AAC3B,eAAe,SAAS;AACxB;AACA;AACA;;AAEA;AACA;;AAEA,sBAAsB,kBAAkB;AACxC,4GAA4G,UAAU;;AAEtH;AACA;;AAEA;AACA;AACA,0BAA0B,QAAQ;;AAElC;AACA;;AAEA;AACA;;AAEA,0BAA0B,kBAAkB;AAC5C;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,YAAY;AAC3B,eAAe,SAAS;AACxB;AACA;AACA;;AAEA;AACA,0BAA0B,QAAQ;;AAElC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0CAA0C,UAAU;;AAEpD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,YAAY;AAC3B,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET,8CAA8C,cAAc;;AAE5D;AACA;AACA;;AAEA;AACA;AACA,sDAAsD,QAAQ;;AAE9D;;AAEA;AACA,oFAAoF,QAAQ;;AAE5F;AACA;AACA;AACA;;AAEA;AACA;AACA,yF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA,iBAAiB;AACjB;;AAEA,SAAS;AACT;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,SAAS;AACxB;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA,8BAA8B,8CAA8C;AAC5E;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA,aAAa;AACb,qBAAqB,QAAQ;AAC7B;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,MAAM;AACrB,eAAe,SAAS;AACxB,eAAe,QAAQ;AACvB;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA,8BAA8B,oBAAoB;;AAElD,oBAAoB,YAAY;;AAEhC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gC;AACA;AACA;;AAEA,uCAAuC,cAAc;;AAErD;AACA;AACA,mCAAmC,6BAA6B;AAChE,0CAA0C,oDAAoD;AAC9F;AACA;AACA;AACA,0CAA0C,uBAAuB;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qDAAqD,UAAU;AAC/D;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,iDAAiD;AACjD;AACA,yCAAyC;AACzC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAqC,oBAAoB;AACzD;AACA;AACA,yCAAyC,+CAA+C;AACxF;AACA;AACA,qCAAqC;AACrC;AACA;;AAEA;AACA;AACA,sCAAsC,yBAAyB;AAC/D,wCAAwC,sBAAsB;AAC9D;AACA;;AAEA;;AAEA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA;AACA,iBAAiB;;AAEjB;AACA;AACA,8BAA8B,sBAAsB;AACpD,gCAAgC,oBAAoB;AACpD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;;AAEA,yBAAyB;AACzB;;AAEA,yBAAyB;AACzB;;AAEA;;AAEA,iC;;AAEA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,MAAM;AACrB,eAAe,QAAQ;AACvB,eAAe,QAAQ;AACvB,eAAe,OAAO;AACtB;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;;AAEA,sBAAsB,6EAA6E;AACnG;AACA,sBAAsB,6BAA6B;AACnD;AACA,qCAAqC,2EAA2E;AAChH,qBAAqB;AACrB;AACA;AACA,mBAAmB,yCAAyC;AAC5D;AACA,kCAAkC,gFAAgF;AAClH;AACA;AACA,iBAAiB;AACjB;AACA;AACA,qBAAqB,qFAAqF;AAC1G,4BAA4B,0BAA0B;AACtD;AACA,qBAAqB,sFAAsF;AAC3G,4BAA4B,2BAA2B;AACvD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,SAAS;AACxB;AACA;AACA,oBAAoB,QAAQ;;AAE5B;AACA;;AAEA,SAAS;AACT;AACA;AACA;;AAEA,SAAS;AACT;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA,sBAAsB,QAAQ;;AAE9B;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAkC,oBAAoB;AACtD;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA,8BAA8B,uBAAuB;;AAErD;AACA;AACA;AACA;AACA;AACA,0DAA0D,QAAQ;;AAElE;AACA;AACA,aAAa;;AAEb;AACA;;AAEA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;;AAEb;AACA;AACA;;AAEA;AACA,yEAAyE,uBAAuB;;AAEhG;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;;;;;;;AClwBa;;AAEb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA,2BAA2B,mBAAmB;;AAE9C;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA,2BAA2B,QAAQ;;AAEnC;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,EAAE;AACjB;AACA;AACA,2BAA2B,QAAQ;;AAEnC;AACA,wDAAwD,UAAU;;AAElE;AACA;AACA;AACA;;AAEA","file":"helpers.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 33);\n","'use strict';\n\n/**\n * @namespace HashBrown.Client.Helpers\n */\nnamespace('Helpers')\n.add(require('./ConnectionHelper'))\n.add(require('./ContentHelper'))\n.add(require('./FormHelper'))\n.add(require('./DebugHelper'))\n.add(require('./LanguageHelper'))\n.add(require('./MarkdownHelper'))\n.add(require('./MediaHelper'))\n.add(require('./ProjectHelper'))\n.add(require('./RequestHelper'))\n.add(require('./ResourceHelper'))\n.add(require('./SchemaHelper'))\n.add(require('./SettingsHelper'))\n.add(require('./UIHelper'))\n.add(require('./EventHelper'));\n","'use strict';\n\nconst ConnectionHelperCommon = require('Common/Helpers/ConnectionHelper');\n\n/**\n * The client side connection helper\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass ConnectionHelper extends ConnectionHelperCommon {\n    /**\n     * Gets all connections\n     *\n     * @return {Array} Connections\n     */\n    static async getAllConnections() {\n        return await HashBrown.Helpers.ResourceHelper.getAll(HashBrown.Models.Connection, 'connections');\n    }\n    \n    /**\n     * Gets a Connection by id\n     *\n     * @param {String} id\n     *\n     * @return {HashBrown.Models.Connection} Connection\n     */\n    static async getConnectionById(id) {\n        return await HashBrown.Helpers.ResourceHelper.get(HashBrown.Models.Connection, 'connections', id);\n    }\n\n    /**\n     * Sets the Media provider\n     *\n     * @param {String} id\n     *\n     * @returns {Promise}\n     */\n    static async setMediaProvider(id) {\n        await super.setMediaProvider(HashBrown.Context.projectId, HashBrown.Context.environment, id);\n\n        await HashBrown.Helpers.ResourceHelper.reloadResource('media');\n    }\n    \n    /**\n     * Starts a tour of the Connection section\n     */\n    static async startTour() {\n        if(location.hash.indexOf('connections/') < 0) {\n            location.hash = '/connections/';\n        }\n       \n        await new Promise((resolve) => { setTimeout(() => { resolve(); }, 500); });\n            \n        await UI.highlight('.navbar-main__tab[data-route=\"/connections/\"]', 'This the Connections section, where you will configure how HashBrown talks to the outside world.', 'right', 'next');\n\n        await UI.highlight('.navbar-main__pane[data-route=\"/connections/\"]', 'Here you will find all of your Connections. You can right click here to create a new Connection.', 'right', 'next');\n        \n        let editor = document.querySelector('.editor--connection');\n\n        if(editor) {\n            await UI.highlight('.editor--connection', 'This is the Connection editor, where you edit Connections.', 'left', 'next');\n        } else {\n            await UI.highlight('.page--environment__space--editor', 'This is where the Connection editor will be when you click a Connection.', 'left', 'next');\n        }\n    }\n\n    /**\n     * Gets the Media provider\n     *\n     * @return {HashBrown.Models.Connection} Connection object\n     */\n    static async getMediaProvider() {\n        let providers = await HashBrown.Helpers.SettingsHelper.getSettings(HashBrown.Context.projectId, HashBrown.Context.environment, 'providers');\n        \n        if(providers.media) {\n            return await this.getConnectionById(providers.media);\n        } else {\n            return null;\n        }\n    }\n}\n\nmodule.exports = ConnectionHelper;\n","'use strict';\n\n/**\n * The helper class for Connections\n *\n * @memberof HashBrown.Common.Helpers\n */\nclass ConnectionHelper {\n    /**\n     * Gets all connections\n     *\n     * @param {String} project\n     * @param {String} environment\n     *\n     * @returns {Promise(Array)} connections\n     */\n    static getAllConnections(project, environment) {\n        checkParam(project, 'project', String);\n        checkParam(environment, 'environment', String);\n\n        return Promise.resolve();\n    }\n    \n    /**\n     * Sets the Media provider\n     *\n     * @param {String} project\n     * @param {String} environment\n     * @param {String} id\n     *\n     * @return {Promise} Promise\n     */\n    static setMediaProvider(project, environment, id = null) {\n        checkParam(project, 'project', String);\n        checkParam(environment, 'environment', String);\n\n        return HashBrown.Helpers.SettingsHelper.getSettings(project, environment, 'providers')\n        .then((providers) => {\n            providers = providers || {};\n            providers.media = id;\n\n            return HashBrown.Helpers.SettingsHelper.setSettings(project, environment, 'providers', providers)\n        });\n    }\n}\n\nmodule.exports = ConnectionHelper;\n","'use strict';\n\nconst ContentHelperCommon = require('Common/Helpers/ContentHelper');\n\n/**\n * The client side content helper\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass ContentHelper extends ContentHelperCommon {\n    /**\n     * Gets all ancestors of a Content node by id\n     *\n     * @param {String} id\n     * @param {Boolean} includeSelf\n     *\n     * @returns {Array} Content node\n     */\n    static async getContentAncestorsById(id, includeSelf = false) {\n        checkParam(id, 'id', String, true);\n\n        let ancestors = [];\n        let ancestorId = id;\n\n        while(ancestorId) {\n            let ancestor = await this.getContentById(ancestorId);\n\n            if(ancestorId !== id || includeSelf) {\n                ancestors.push(ancestor);\n            }\n            \n            ancestorId = ancestor.parentId;\n        }\n\n        ancestors.reverse();\n\n        return ancestors;\n    }\n    \n    /**\n     * Gets Content by id\n     *\n     * @param {String} id\n     *\n     * @returns {HashBrown.Models.Content} Content node\n     */\n    static async getContentById(id) {\n        checkParam(id, 'id', String, true);\n\n        return await HashBrown.Helpers.ResourceHelper.get(HashBrown.Models.Content, 'content', id);\n    }\n    \n    /**\n     * Gets all Content\n     *\n     * @returns {Array} Content nodes\n     */\n    static async getAllContent() {\n        return await HashBrown.Helpers.ResourceHelper.getAll(HashBrown.Models.Content, 'content');\n    }\n    \n    /**\n     * Sets Content by id\n     *\n     * @param {String} id\n     * @param {HashBrown.Models.Content} content\n     */\n    static setContentById(id, content) {\n        checkParam(id, 'id', String);\n        checkParam(content, 'content', HashBrown.Models.Content);\n\n        return HashBrown.Helpers.ResourceHelper.set('content', id, content);\n    }\n\n    /**\n     * A check for field definitions\n     *\n     * @param {Object} definition\n     *\n     * @return {Boolean} Whether or not the definition is empty\n     */\n    static isFieldDefinitionEmpty(definition) {\n        if(!definition) { return true; }\n\n        let isEmpty = true;\n        let checkRecursive = (object) => {\n            if(!object) { return; }\n\n            // We consider a definition not empty, if it has a value that is not an object\n            // Remember, null is of type 'object' too\n            if(typeof object !== 'object') { return isEmpty = false; }\n\n            for(let k in object) {\n                checkRecursive(object[k]);\n            }\n        };\n            \n        checkRecursive(definition);\n\n        return isEmpty;\n    }\n\n    /**\n     * A sanity check for fields\n     *\n     * @param {Object} value\n     * @param {Object} definition\n     *\n     * @return {Object} Checked value\n     */\n    static fieldSanityCheck(value, definition) {\n        // If the definition value is set to multilingual, but the value isn't an object, convert it\n        if(definition.multilingual && (!value || typeof value !== 'object')) {\n            let oldValue = value;\n\n            value = {};\n            value[HashBrown.Context.language] = oldValue;\n        }\n\n        // If the definition value is not set to multilingual, but the value is an object\n        // containing the _multilingual flag, convert it\n        if(!definition.multilingual && value && typeof value === 'object' && value._multilingual) {\n            value = value[HashBrown.Context.language];\n        }\n\n        // Update the _multilingual flag\n        if(definition.multilingual && value && !value._multilingual) {\n            value._multilingual = true;    \n        \n        } else if(!definition.multilingual && value && value._multilingual) {\n            delete value._multilingual;\n\n        }\n\n        return value;\n    }\n\n    /**\n     * Get new sort index\n     *\n     * @param {String} parentId\n     * @param {String} aboveId\n     * @param {String} belowId\n     *\n     * @return {Number} New index\n     */\n    static async getNewSortIndex(parentId, aboveId, belowId) {\n        if(aboveId) {\n            let aboveContent = await this.getContentById(aboveId);\n            \n            return aboveContent.sort + 1;\n        }\n\n        if(belowId) {\n            let belowContent = await this.getContentById(belowId);\n            \n            return belowContent.sort + 1;\n        }\n\n        // Filter out content that doesn't have the same parent\n        let allContent = await HashBrown.Helpers.ContentHelper.getAllContent();\n        \n        allContent.filter((x) => {\n            return x.parentId == parentId || (!x.parentId && !parentId);\n        });\n\n        // Find new index\n        // NOTE: The index should be the highest sort number + 10000 to give a bit of leg room for sorting later\n        let newIndex = 10000;\n\n        for(let content of allContent) {\n            if(newIndex - 10000 <= content.sort) {\n                newIndex = content.sort + 10000;\n            }\n        }\n\n        return newIndex;\n    }\n\n    /**\n     * Starts a tour of the Content section\n     */\n    static async startTour() {\n        if(location.hash.indexOf('content/') < 0) {\n            location.hash = '/content/';\n        }\n       \n        await new Promise((resolve) => { setTimeout(() => { resolve(); }, 500); });\n            \n        await UI.highlight('.navbar-main__tab[data-route=\"/content/\"]', 'This the Content section, where you will do all of your authoring.', 'right', 'next');\n\n        await UI.highlight('.navbar-main__pane[data-route=\"/content/\"]', 'Here you will find all of your authored Content, like webpages. You can right click here to create a Content node.', 'right', 'next');\n        \n        let editor = document.querySelector('.editor--content');\n\n        if(editor) {\n            await UI.highlight('.editor--content', 'This is the Content editor, where you edit Content nodes.', 'left', 'next');\n        } else {\n            await UI.highlight('.page--environment__space--editor', 'This is where the Content editor will be when you click a Content node.', 'left', 'next');\n        }\n    }\n}\n\nmodule.exports = ContentHelper;\n","'use strict';\n\n/**\n * A helper class for Content\n *\n * @memberof HashBrown.Common.Helpers\n */\nclass ContentHelper {\n    /**\n     * Gets all Content objects\n     *\n     * @param {String} project\n     * @param {String} environment\n     *\n     * @return {Promise} promise\n     */\n    static getAllContents(project, environment) {\n        checkParam(project, 'project', String);\n        checkParam(environment, 'environment', String);\n\n        return Promise.resolve();\n    }\n\n    /**\n     * Gets a URL-friendly version of a string\n     *\n     * @param {String} string\n     *\n     * @param {String} slug\n     */\n    static getSlug(string) {\n        return (string || '')\n            .toLowerCase()\n            .replace(/[æ|ä]/g, 'ae')\n            .replace(/[ø|ö]/g, 'oe')\n            .replace(/å/g, 'aa')\n            .replace(/ü/g, 'ue')\n            .replace(/ß/g, 'ss')\n            .replace(/[^\\w ]+/g, '')\n            .replace(/ +/g, '-')\n            ;\n    }\n\n    /**\n     * Gets a Content object by id\n     *\n     * @param {String} project\n     * @param {String} environment\n     * @param {String} id\n     *\n     * @return {Promise} promise\n     */\n    static getContentById(project, environment, id) {\n        checkParam(project, 'project', String);\n        checkParam(environment, 'environment', String);\n        checkParam(id, 'id', String);\n\n        return Promise.resolve();\n    }\n    \n    /**\n     * Sets a Content object by id\n     *\n     * @param {String} project\n     * @param {String} environment\n     * @param {String} id\n     * @param {Content} content\n     *\n     * @return {Promise} promise\n     */\n    static setContentById(project, environment, id, content) {\n        checkParam(project, 'project', String);\n        checkParam(environment, 'environment', String);\n        checkParam(id, 'id', String);\n        checkParam(content, 'content', HashBrown.Models.Content);\n\n        return new Promise((resolve, reject) => {\n            resolve();\n        });\n    }\n\n    /**\n     * Checks if a Schema type is allowed as a child of a Content object\n     *\n     * @param {String} project\n     * @param {String} environment\n     * @param {String} parentId\n     * @param {String} childSchemaId\n     *\n     * @returns {Promise} Is the Content node allowed as a child\n     */\n    static isSchemaAllowedAsChild(project, environment, parentId, childSchemaId) {\n        checkParam(project, 'project', String);\n        checkParam(environment, 'environment', String);\n        checkParam(parentId, 'parentId', String);\n        checkParam(childSchemaId, 'childSchemaId', String);\n\n        // No parent ID means root, and all Schemas are allowed there\n        if(!parentId) {\n            return Promise.resolve();\n\n        } else {\n            return this.getContentById(project, environment, parentId)\n            .then((parentContent) => {\n                return HashBrown.Helpers.SchemaHelper.getSchemaById(project, environment, parentContent.schemaId);\n            })\n            .then((parentSchema) => {\n                // The Schema was not an allowed child\n                if(parentSchema.allowedChildSchemas.indexOf(childSchemaId) < 0) {\n                    return HashBrown.Helpers.SchemaHelper.getSchemaById(project, environment, childSchemaId)\n                    .then((childSchema) => {\n                        return Promise.reject(new Error('Content with Schema \"' + childSchema.name + '\" is not an allowed child of Content with Schema \"' + parentSchema.name + '\"'));\n                    });\n                \n                // The Schema was an allowed child, resolve\n                } else {\n                    return Promise.resolve();\n\n                }\n            });\n        }\n    }\n\n    /**\n     * Creates a new content object\n     *\n     * @return {Promise} promise\n     */\n    static createContent() {\n        return new Promise((resolve, reject) => {\n            resolve();\n        });\n    }\n    \n    /**\n     * Removes a content object\n     *\n     * @param {Number} id\n     *\n     * @return {Promise} promise\n     */\n    static removeContentById(id) {\n        return new Promise((resolve, reject) => {\n            resolve();\n        });\n    }\n}\n\nmodule.exports = ContentHelper;\n","'use strict';\n\n/**\n * The client side helper class for Forms\n */\nclass FormHelper {\n    /**\n     * Gets all Forms\n     *\n     * @return {Array} Forms\n     */\n    static getAllForms() {\n        return HashBrown.Helpers.ResourceHelper.getAll(HashBrown.Models.Form, 'forms');\n    }\n    \n    /**\n     * Gets a Form by id\n     *\n     * @param {String} id\n     *\n     * @return {HashBrown.Models.Form} Form\n     */\n    static getFormById(id) {\n        return HashBrown.Helpers.ResourceHelper.get(HashBrown.Models.Form, 'forms', id);\n    }\n    \n    /**\n     * Starts a tour of the Forms section\n     */\n    static async startTour() {\n        if(location.hash.indexOf('forms/') < 0) {\n            location.hash = '/forms/';\n        }\n       \n        await new Promise((resolve) => { setTimeout(() => { resolve(); }, 500); });\n            \n        await UI.highlight('.navbar-main__tab[data-route=\"/forms/\"]', 'This the Forms section, where user submitted content lives.', 'right', 'next');\n\n        await UI.highlight('.navbar-main__pane[data-route=\"/forms/\"]', 'Here you will find all of your Forms. You can right click here to create a new Form.', 'right', 'next');\n        \n        let editor = document.querySelector('.editor--form');\n\n        if(editor) {\n            await UI.highlight('.editor--form', 'This is the Form editor, where you edit Forms.', 'left', 'next');\n        } else {\n            await UI.highlight('.page--environment__space--editor', 'This is where the Form editor will be when you click a Form.', 'left', 'next');\n        }\n    }\n}\n\nmodule.exports = FormHelper;\n","'use strict';\n\nconst DebugHelperCommon = require('Common/Helpers/DebugHelper');\n\n/**\n * The client side debug helper\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass DebugHelper extends DebugHelperCommon {\n}\n\nmodule.exports = DebugHelper;\n","'use strict';\n\n/**\n * A helper for debugging\n *\n * @memberof HashBrown.Common.Helpers\n */\nclass DebugHelper {\n    /**\n     * Event: Log\n     *\n     * @param {String} dateString\n     * @param {String} senderString\n     * @param {String} message\n     * @param {String} type\n     */\n    static onLog(dateString, senderString, message, type) {\n        if(type) {\n            message = '[' + type.toUpperCase() + '] ' + message;\n        }\n\n        console.log(dateString + ' | ' + senderString + ' | ' + message);\n    }\n\n    /**\n     * Gets the date string\n     *\n     * @returns {String} date\n     */\n    static getDateString() {\n        let date = new Date();\n\n        let monthString = (date.getMonth() + 1);\n\n        if(monthString < 10) {\n            monthString = '0' + monthString;\n        }\n\n        let dateString = date.getDate();\n\n        if(dateString < 10) {\n            dateString = '0' + dateString;\n        }\n        \n        let hoursString = date.getHours();\n\n        if(hoursString < 10) {\n            hoursString = '0' + hoursString;\n        }\n        \n        let minutesString = date.getMinutes();\n\n        if(minutesString < 10) {\n            minutesString = '0' + minutesString;\n        }\n        \n        let secondsString = date.getSeconds();\n\n        if(secondsString < 10) {\n            secondsString = '0' + secondsString;\n        }\n\n        let output =\n            date.getFullYear() + '.' +\n            monthString + '.' +\n            dateString + ' ' +\n            hoursString + ':' + \n            minutesString + ':' + \n            secondsString;\n\n        return output;\n    }\n    \n    /**\n     * Parse sender\n     *\n     * @param {Object} sender\n     *\n     * @returns {String} name\n     */\n    static parseSender(sender, ignoreLast) {\n        let senderName = '';\n\n        if(sender) {\n            if(typeof sender === 'string') {\n                senderName = sender;\n\n            } else if(typeof sender === 'function') {\n                senderName = sender.name;\n\n            } else if(sender.constructor) {\n                senderName = sender.constructor.name;\n            \n            } else {\n                senderName = sender.toString();\n\n            }\n        }\n\n        return senderName;\n    }\n   \n    /**\n     * Gets the debug verbosity\n     *\n     * @returns {Number} Verbosity\n     */\n    static getDebugVerbosity() {\n        return 1;\n    }\n\n    /**\n     * Logs a message\n     *\n     * @param {String} message\n     * @param {Object} sender\n     * @param {Number} verbosity\n     */\n    static log(message, sender, verbosity = 1) {\n        if(verbosity == 0) {\n            this.error('Verbosity cannot be set to 0', this);\n\n        } else if(!verbosity) {\n            verbosity = 1;\n        }\n\n        if(this.getDebugVerbosity() >= verbosity) {\n            this.onLog(this.getDateString(), this.parseSender(sender), message);\n        }\n    }\n\n    /**\n     * Shows an error\n     *\n     * @param {String|Error} error\n     * @param {Object} sender\n     */\n    static error(error, sender) {\n        if(error instanceof Error !== true) {\n            error = new Error(error);\n        }\n\n        this.onLog(this.getDateString(), this.parseSender(sender), error.message || error.trace , 'error');\n    \n        throw error;\n    }\n\n    /**\n     * Shows a warning\n     */\n    static warning(message, sender) {\n        this.onLog(this.getDateString(), this.parseSender(sender), message, 'warning');\n    }\n\n    /**\n     * Starts a timer\n     *\n     * @param {String} id\n     */\n    static startTimer(id) {\n        checkParam(id, 'id', String, true);\n\n        if(!this.timers) { this.timers = {}; }\n\n        this.timers[id] = Date.now();\n        \n        console.log('timer/' + id + ': Start!');\n    }\n\n    /**\n     * Prints the timer duration\n     *\n     * @param {String} id\n     * @param {String} message\n     */\n    static printTimer(id, message) {\n        checkParam(id, 'id', String, true);\n        checkParam(message, 'message', String, true);\n        \n        if(!this.timers || !this.timers[id]) { this.startTimer(id); }\n\n        console.log('timer/' + id + ': ' + message + '(' + (Date.now() - this.timers[id]) + 'ms)');\n        \n        this.timers[id] = Date.now();\n    }\n}\n\nmodule.exports = DebugHelper;\n","'use strict';\n\nconst LanguageHelperCommon = require('Common/Helpers/LanguageHelper');\n\nlet selectedLanguages = {};\n\n/**\n * The client side language helper\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass LanguageHelper extends LanguageHelperCommon {\n    /**\n     * Gets all selected languages\n     *\n     * @param {String} project\n     *\n     * @returns {Array} List of language names\n     */\n    static getLanguages(project) {\n        project = project || HashBrown.Helpers.ProjectHelper.currentProject;\n\n        return HashBrown.Helpers.SettingsHelper.getSettings(project, null, 'languages')\n        .then((selected) => {\n            if(!selected || !Array.isArray(selected)) {\n                selected = ['en'];\n            }\n\n            selected.sort();\n\n            selectedLanguages[project] = selected;\n\n            return Promise.resolve(selected);\n        });\n    }\n\n    /**\n     * Sets all languages\n     *\n     * @param {String} project\n     * @param {Array} languages\n     *\n     * @returns {Promise} promise\n     */\n    static setLanguages(project, languages) {\n        checkParam(project, 'project', String);\n        checkParam(languages, 'languages', Array);\n\n        if(!Array.isArray(languages)) {\n            return Promise.reject(new Error('Language array cannot be of type \"' + typeof languages + '\"'));\n        }\n\n        return HashBrown.Helpers.SettingsHelper.setSettings(project, null, 'languages', languages);\n    }\n}\n\nmodule.exports = LanguageHelper;\n","'use strict';\n\n/**\n * A helper for language\n *\n * @memberof HashBrown.Common.Helpers\n */\nclass LanguageHelper {\n    /**\n     * Gets all selected languages\n     *\n     * @param {String} project\n     *\n     * @returns {Array} List of language names\n     */\n    static getLanguages(project) {\n        checkParam(project, 'project', String);\n\n        return Promise.resolve([]);\n    }\n    \n    /**\n     * Sets all languages\n     *\n     * @param {String} project\n     * @param {Array} languages\n     *\n     * @returns {Promise} Promise\n     */\n    static setLanguages(project, languages) {\n        checkParam(project, 'project', String);\n        checkParam(languages, 'languages', Array);\n\n        return Promise.resolve();\n    }\n\n    /**\n     * Gets localised sets of properties for a Content object\n     *\n     * @param {String} project\n     * @param {String} environment\n     * @param {Content} content\n     *\n     * @return {Promise} Properties\n     */\n    static getAllLocalizedPropertySets(project, environment, content) {\n        checkParam(project, 'project', String);\n        checkParam(environment, 'environment', String);\n        checkParam(content, 'content', HashBrown.Models.Content);\n\n        return this.getLanguages(project)\n        .then((languages) => {\n            let sets = {};\n\n            for(let language of languages) {\n                let properties = content.getLocalizedProperties(language);\n                \n                sets[language] = properties;\n            }\n\n            return Promise.resolve(sets);\n        });\n    }\n    \n    /**\n     * Gets all languages\n     *\n     * @returns {Array} List of language names\n     */\n    static getLanguageOptions() {\n        return [\n            \"aa\",\n            \"ab\",\n            \"ae\",\n            \"af\",\n            \"ak\",\n            \"am\",\n            \"an\",\n            \"ar\",\n            \"as\",\n            \"av\",\n            \"ay\",\n            \"az\",\n            \"ba\",\n            \"be\",\n            \"bg\",\n            \"bh\",\n            \"bi\",\n            \"bm\",\n            \"bn\",\n            \"bo\",\n            \"br\",\n            \"bs\",\n            \"ca\",\n            \"ce\",\n            \"ch\",\n            \"co\",\n            \"cr\",\n            \"cs\",\n            \"cu\",\n            \"cv\",\n            \"cy\",\n            \"da\",\n            \"de\",\n            \"dv\",\n            \"dz\",\n            \"ee\",\n            \"el\",\n            \"en\",\n            \"eo\",\n            \"es\",\n            \"et\",\n            \"eu\",\n            \"fa\",\n            \"ff\",\n            \"fi\",\n            \"fj\",\n            \"fo\",\n            \"fr\",\n            \"fy\",\n            \"ga\",\n            \"gd\",\n            \"gl\",\n            \"gn\",\n            \"gu\",\n            \"gv\",\n            \"ha\",\n            \"he\",\n            \"hi\",\n            \"ho\",\n            \"hr\",\n            \"ht\",\n            \"hu\",\n            \"hy\",\n            \"hz\",\n            \"ia\",\n            \"id\",\n            \"ie\",\n            \"ig\",\n            \"ii\",\n            \"ik\",\n            \"io\",\n            \"is\",\n            \"it\",\n            \"iu\",\n            \"ja\",\n            \"jv\",\n            \"ka\",\n            \"kg\",\n            \"ki\",\n            \"kj\",\n            \"kk\",\n            \"kl\",\n            \"km\",\n            \"kn\",\n            \"ko\",\n            \"kr\",\n            \"ks\",\n            \"ku\",\n            \"kv\",\n            \"kw\",\n            \"ky\",\n            \"la\",\n            \"lb\",\n            \"lg\",\n            \"li\",\n            \"ln\",\n            \"lo\",\n            \"lt\",\n            \"lu\",\n            \"lv\",\n            \"mg\",\n            \"mh\",\n            \"mi\",\n            \"mk\",\n            \"ml\",\n            \"mn\",\n            \"mr\",\n            \"ms\",\n            \"mt\",\n            \"my\",\n            \"na\",\n            \"nb\",\n            \"nd\",\n            \"ne\",\n            \"ng\",\n            \"nl\",\n            \"nn\",\n            \"no\",\n            \"nr\",\n            \"nv\",\n            \"ny\",\n            \"oc\",\n            \"oj\",\n            \"om\",\n            \"or\",\n            \"os\",\n            \"pa\",\n            \"pi\",\n            \"pl\",\n            \"ps\",\n            \"pt\",\n            \"qu\",\n            \"rc\",\n            \"rm\",\n            \"rn\",\n            \"ro\",\n            \"ru\",\n            \"rw\",\n            \"sa\",\n            \"sc\",\n            \"sd\",\n            \"se\",\n            \"sg\",\n            \"si\",\n            \"sk\",\n            \"sl\",\n            \"sm\",\n            \"sn\",\n            \"so\",\n            \"sq\",\n            \"sr\",\n            \"ss\",\n            \"st\",\n            \"su\",\n            \"sv\",\n            \"sw\",\n            \"ta\",\n            \"te\",\n            \"tg\",\n            \"th\",\n            \"ti\",\n            \"tk\",\n            \"tl\",\n            \"tn\",\n            \"to\",\n            \"tr\",\n            \"ts\",\n            \"tt\",\n            \"tw\",\n            \"ty\",\n            \"ug\",\n            \"uk\",\n            \"ur\",\n            \"uz\",\n            \"ve\",\n            \"vi\",\n            \"vo\",\n            \"wa\",\n            \"wo\",\n            \"xh\",\n            \"yi\",\n            \"yo\",\n            \"za\",\n            \"zh\",\n            \"zu\"\n        ];\n    }\n}\n\nmodule.exports = LanguageHelper;\n","'use strict';\n\n/**\n * A helper class for handling markdown\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass MarkdownHelper {\n    /**\n     * Converts a string from HTML to markdown\n     *\n     * @param {String} html\n     *\n     * @return {String} Markdown\n     *\n     * MIT License\n     *  \n     * Copyright (c) 2017 Dom Christie\n     *\n     * Permission is hereby granted, free of charge, to any person obtaining a copy\n     * of this software and associated documentation files (the \"Software\"), to deal\n     * in the Software without restriction, including without limitation the rights\n     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n     * copies of the Software, and to permit persons to whom the Software is\n     * furnished to do so, subject to the following conditions:\n     *\n     * The above copyright notice and this permission notice shall be included in all\n     * copies or substantial portions of the Software.\n     *\n     * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n     * SOFTWARE.\n     */\n    static fromHtml(html) {\n        function extend (destination) {\n            for (var i = 1; i < arguments.length; i++) {\n                var source = arguments[i];\n                for (var key in source) {\n                    if (source.hasOwnProperty(key)) destination[key] = source[key];\n                }\n            }\n            return destination\n        }\n\n        function repeat (character, count) {\n            return Array(count + 1).join(character)\n        }\n\n        var blockElements = [\n            'address', 'article', 'aside', 'audio', 'blockquote', 'body', 'canvas',\n            'center', 'dd', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption',\n            'figure', 'footer', 'form', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n            'header', 'hgroup', 'hr', 'html', 'isindex', 'li', 'main', 'menu', 'nav',\n            'noframes', 'noscript', 'ol', 'output', 'p', 'pre', 'section', 'table',\n            'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul'\n        ];\n\n        function isBlock (node) {\n            return blockElements.indexOf(node.nodeName.toLowerCase()) !== -1\n        }\n\n        var voidElements = [\n            'area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input',\n            'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr'\n        ];\n\n        function isVoid (node) {\n            return voidElements.indexOf(node.nodeName.toLowerCase()) !== -1\n        }\n\n        var voidSelector = voidElements.join();\n        \n        function hasVoid (node) {\n            return node.querySelector && node.querySelector(voidSelector)\n        }\n\n        var rules = {};\n\n        rules.paragraph = {\n            filter: 'p',\n\n            replacement: function (content) {\n                return '\\n\\n' + content + '\\n\\n'\n            }\n        };\n\n        rules.lineBreak = {\n            filter: 'br',\n\n            replacement: function (content, node, options) {\n                return options.br + '\\n'\n            }\n        };\n\n        rules.heading = {\n            filter: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n\n            replacement: function (content, node, options) {\n                var hLevel = Number(node.nodeName.charAt(1));\n\n                if (options.headingStyle === 'setext' && hLevel < 3) {\n                    var underline = repeat((hLevel === 1 ? '=' : '-'), content.length);\n                    return (\n                        '\\n\\n' + content + '\\n' + underline + '\\n\\n'\n                    )\n                } else {\n                    return '\\n\\n' + repeat('#', hLevel) + ' ' + content + '\\n\\n'\n                }\n            }\n        };\n\n        rules.blockquote = {\n            filter: 'blockquote',\n\n            replacement: function (content) {\n                content = content.replace(/^\\n+|\\n+$/g, '');\n                content = content.replace(/^/gm, '> ');\n                return '\\n\\n' + content + '\\n\\n'\n            }\n        };\n\n        rules.list = {\n            filter: ['ul', 'ol'],\n\n            replacement: function (content, node) {\n                var parent = node.parentNode;\n                if (parent.nodeName === 'LI' && parent.lastElementChild === node) {\n                    return '\\n' + content\n                } else {\n                    return '\\n\\n' + content + '\\n\\n'\n                }\n            }\n        };\n\n        rules.listItem = {\n            filter: 'li',\n\n            replacement: function (content, node, options) {\n                content = content\n                    .replace(/^\\n+/, '') // remove leading newlines\n                    .replace(/\\n+$/, '\\n') // replace trailing newlines with just a single one\n                    .replace(/\\n/gm, '\\n    '); // indent\n                var prefix = options.bulletListMarker + '   ';\n                var parent = node.parentNode;\n                if (parent.nodeName === 'OL') {\n                    var start = parent.getAttribute('start');\n                    var index = Array.prototype.indexOf.call(parent.children, node);\n                    prefix = (start ? Number(start) + index : index + 1) + '.  ';\n                }\n                return (\n                    prefix + content + (node.nextSibling && !/\\n$/.test(content) ? '\\n' : '')\n                )\n            }\n        };\n\n        rules.indentedCodeBlock = {\n            filter: function (node, options) {\n                return (\n                    options.codeBlockStyle === 'indented' &&\n                    node.nodeName === 'PRE' &&\n                    node.firstChild &&\n                    node.firstChild.nodeName === 'CODE'\n                )\n            },\n\n            replacement: function (content, node, options) {\n                return (\n                    '\\n\\n    ' +\n                    node.firstChild.textContent.replace(/\\n/g, '\\n    ') +\n                    '\\n\\n'\n                )\n            }\n        };\n\n        rules.fencedCodeBlock = {\n            filter: function (node, options) {\n                return (\n                    options.codeBlockStyle === 'fenced' &&\n                    node.nodeName === 'PRE' &&\n                    node.firstChild &&\n                    node.firstChild.nodeName === 'CODE'\n                )\n            },\n\n            replacement: function (content, node, options) {\n                var className = node.firstChild.className || '';\n                var language = (className.match(/language-(\\S+)/) || [null, ''])[1];\n\n                return (\n                    '\\n\\n' + options.fence + language + '\\n' +\n                    node.firstChild.textContent +\n                    '\\n' + options.fence + '\\n\\n'\n                )\n            }\n        };\n\n        rules.horizontalRule = {\n            filter: 'hr',\n\n            replacement: function (content, node, options) {\n                return '\\n\\n' + options.hr + '\\n\\n'\n            }\n        };\n\n        rules.inlineLink = {\n            filter: function (node, options) {\n                return (\n                    options.linkStyle === 'inlined' &&\n                    node.nodeName === 'A' &&\n                    node.getAttribute('href')\n                )\n            },\n\n            replacement: function (content, node) {\n                var href = node.getAttribute('href');\n                var title = node.title ? ' \"' + node.title + '\"' : '';\n                return '[' + content + '](' + href + title + ')'\n            }\n        };\n\n        rules.referenceLink = {\n            filter: function (node, options) {\n                return (\n                    options.linkStyle === 'referenced' &&\n                    node.nodeName === 'A' &&\n                    node.getAttribute('href')\n                )\n            },\n\n            replacement: function (content, node, options) {\n                var href = node.getAttribute('href');\n                var title = node.title ? ' \"' + node.title + '\"' : '';\n                var replacement;\n                var reference;\n\n                switch (options.linkReferenceStyle) {\n                    case 'collapsed':\n                        replacement = '[' + content + '][]';\n                        reference = '[' + content + ']: ' + href + title;\n                        break\n                    case 'shortcut':\n                        replacement = '[' + content + ']';\n                        reference = '[' + content + ']: ' + href + title;\n                        break\n                    default:\n                        var id = this.references.length + 1;\n                        replacement = '[' + content + '][' + id + ']';\n                        reference = '[' + id + ']: ' + href + title;\n                }\n\n                this.references.push(reference);\n                return replacement\n            },\n\n            references: [],\n\n            append: function (options) {\n                var references = '';\n                if (this.references.length) {\n                    references = '\\n\\n' + this.references.join('\\n') + '\\n\\n';\n                    this.references = []; // Reset references\n                }\n                return references\n            }\n        };\n\n        rules.emphasis = {\n            filter: ['em', 'i'],\n\n            replacement: function (content, node, options) {\n                if (!content.trim()) return ''\n                return options.emDelimiter + content + options.emDelimiter\n            }\n        };\n\n        rules.strong = {\n            filter: ['strong', 'b'],\n\n            replacement: function (content, node, options) {\n                if (!content.trim()) return ''\n                return options.strongDelimiter + content + options.strongDelimiter\n            }\n        };\n\n        rules.code = {\n            filter: function (node) {\n                var hasSiblings = node.previousSibling || node.nextSibling;\n                var isCodeBlock = node.parentNode.nodeName === 'PRE' && !hasSiblings;\n\n                return node.nodeName === 'CODE' && !isCodeBlock\n            },\n\n            replacement: function (content) {\n                if (!content.trim()) return ''\n\n                var delimiter = '`';\n                var leadingSpace = '';\n                var trailingSpace = '';\n                var matches = content.match(/`+/gm);\n                if (matches) {\n                    if (/^`/.test(content)) leadingSpace = ' ';\n                    if (/`$/.test(content)) trailingSpace = ' ';\n                    while (matches.indexOf(delimiter) !== -1) delimiter = delimiter + '`';\n                }\n\n                return delimiter + leadingSpace + content + trailingSpace + delimiter\n            }\n        };\n\n        rules.image = {\n            filter: 'img',\n\n            replacement: function (content, node) {\n                var alt = node.alt || '';\n                var src = node.getAttribute('src') || '';\n                var title = node.title || '';\n                var titlePart = title ? ' \"' + title + '\"' : '';\n                return src ? '![' + alt + ']' + '(' + src + titlePart + ')' : ''\n            }\n        };\n\n        /**\n         * Manages a collection of rules used to convert HTML to Markdown\n         */\n        function Rules (options) {\n            this.options = options;\n            this._keep = [];\n            this._remove = [];\n\n            this.blankRule = {\n                replacement: options.blankReplacement\n            };\n\n            this.keepReplacement = options.keepReplacement;\n\n            this.defaultRule = {\n                replacement: options.defaultReplacement\n            };\n\n            this.array = [];\n            for (var key in options.rules) this.array.push(options.rules[key]);\n        }\n\n        Rules.prototype = {\n            add: function (key, rule) {\n                this.array.unshift(rule);\n            },\n\n            keep: function (filter) {\n                this._keep.unshift({\n                    filter: filter,\n                    replacement: this.keepReplacement\n                });\n            },\n\n            remove: function (filter) {\n                this._remove.unshift({\n                    filter: filter,\n                    replacement: function () {\n                        return ''\n                    }\n                });\n            },\n\n            forNode: function (node) {\n                if (node.isBlank) return this.blankRule\n                var rule;\n\n                if ((rule = findRule(this.array, node, this.options))) return rule\n                if ((rule = findRule(this._keep, node, this.options))) return rule\n                if ((rule = findRule(this._remove, node, this.options))) return rule\n\n                return this.defaultRule\n            },\n\n            forEach: function (fn) {\n                for (var i = 0; i < this.array.length; i++) fn(this.array[i], i);\n            }\n        };\n\n        function findRule (rules, node, options) {\n            for (var i = 0; i < rules.length; i++) {\n                var rule = rules[i];\n                if (filterValue(rule, node, options)) return rule\n            }\n            return void 0\n        }\n\n        function filterValue (rule, node, options) {\n            var filter = rule.filter;\n            if (typeof filter === 'string') {\n                if (filter === node.nodeName.toLowerCase()) return true\n            } else if (Array.isArray(filter)) {\n                if (filter.indexOf(node.nodeName.toLowerCase()) > -1) return true\n            } else if (typeof filter === 'function') {\n                if (filter.call(rule, node, options)) return true\n            } else {\n                throw new TypeError('`filter` needs to be a string, array, or function')\n            }\n        }\n\n        /**\n         * The collapseWhitespace function is adapted from collapse-whitespace\n         * by Luc Thevenard.\n         *\n         * The MIT License (MIT)\n         *\n         * Copyright (c) 2014 Luc Thevenard <lucthevenard@gmail.com>\n         *\n         * Permission is hereby granted, free of charge, to any person obtaining a copy\n         * of this software and associated documentation files (the \"Software\"), to deal\n         * in the Software without restriction, including without limitation the rights\n         * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n         * copies of the Software, and to permit persons to whom the Software is\n         * furnished to do so, subject to the following conditions:\n         *\n         * The above copyright notice and this permission notice shall be included in\n         * all copies or substantial portions of the Software.\n         *\n         * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n         * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n         * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n         * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n         * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n         * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n         * THE SOFTWARE.\n         */\n\n        /**\n         * collapseWhitespace(options) removes extraneous whitespace from an the given element.\n         *\n         * @param {Object} options\n         */\n        function collapseWhitespace (options) {\n            var element = options.element;\n            var isBlock = options.isBlock;\n            var isVoid = options.isVoid;\n            var isPre = options.isPre || function (node) {\n                return node.nodeName === 'PRE'\n            };\n\n            if (!element.firstChild || isPre(element)) return\n\n            var prevText = null;\n            var prevVoid = false;\n\n            var prev = null;\n            var node = next(prev, element, isPre);\n\n            while (node !== element) {\n                if (node.nodeType === 3 || node.nodeType === 4) { // Node.TEXT_NODE or Node.CDATA_SECTION_NODE\n                    var text = node.data.replace(/[ \\r\\n\\t]+/g, ' ');\n\n                    if ((!prevText || / $/.test(prevText.data)) &&\n                        !prevVoid && text[0] === ' ') {\n                        text = text.substr(1);\n                    }\n\n                    // `text` might be empty at this point.\n                    if (!text) {\n                        node = remove(node);\n                        continue\n                    }\n\n                    node.data = text;\n\n                    prevText = node;\n                } else if (node.nodeType === 1) { // Node.ELEMENT_NODE\n                    if (isBlock(node) || node.nodeName === 'BR') {\n                        if (prevText) {\n                            prevText.data = prevText.data.replace(/ $/, '');\n                        }\n\n                        prevText = null;\n                        prevVoid = false;\n                    } else if (isVoid(node)) {\n                        // Avoid trimming space around non-block, non-BR void elements.\n                        prevText = null;\n                        prevVoid = true;\n                    }\n                } else {\n                    node = remove(node);\n                    continue\n                }\n\n                var nextNode = next(prev, node, isPre);\n                prev = node;\n                node = nextNode;\n            }\n\n            if (prevText) {\n                prevText.data = prevText.data.replace(/ $/, '');\n                if (!prevText.data) {\n                    remove(prevText);\n                }\n            }\n        }\n\n        /**\n         * remove(node) removes the given node from the DOM and returns the\n         * next node in the sequence.\n         *\n         * @param {Node} node\n         * @return {Node} node\n         */\n        function remove (node) {\n            var next = node.nextSibling || node.parentNode;\n\n            node.parentNode.removeChild(node);\n\n            return next\n        }\n\n        /**\n         * next(prev, current, isPre) returns the next node in the sequence, given the\n         * current and previous nodes.\n         *\n         * @param {Node} prev\n         * @param {Node} current\n         * @param {Function} isPre\n         * @return {Node}\n         */\n        function next (prev, current, isPre) {\n            if ((prev && prev.parentNode === current) || isPre(current)) {\n                return current.nextSibling || current.parentNode\n            }\n\n            return current.firstChild || current.nextSibling || current.parentNode\n        }\n\n        /*\n         * Set up window for Node.js\n         */\n\n        var root = (typeof window !== 'undefined' ? window : {});\n\n        /*\n         * Parsing HTML strings\n         */\n\n        function canParseHTMLNatively () {\n            var Parser = root.DOMParser;\n            var canParse = false;\n\n            // Adapted from https://gist.github.com/1129031\n            // Firefox/Opera/IE throw errors on unsupported types\n            try {\n                // WebKit returns null on unsupported types\n                if (new Parser().parseFromString('', 'text/html')) {\n                    canParse = true;\n                }\n            } catch (e) {}\n\n            return canParse\n        }\n\n        function createHTMLParser () {\n            var Parser = function () {};\n\n            {\n                if (shouldUseActiveX()) {\n                    Parser.prototype.parseFromString = function (string) {\n                        var doc = new window.ActiveXObject('htmlfile');\n                        doc.designMode = 'on'; // disable on-page scripts\n                        doc.open();\n                        doc.write(string);\n                        doc.close();\n                        return doc\n                    };\n                } else {\n                    Parser.prototype.parseFromString = function (string) {\n                        var doc = document.implementation.createHTMLDocument('');\n                        doc.open();\n                        doc.write(string);\n                        doc.close();\n                        return doc\n                    };\n                }\n            }\n            return Parser\n        }\n\n        function shouldUseActiveX () {\n            var useActiveX = false;\n            try {\n                document.implementation.createHTMLDocument('').open();\n            } catch (e) {\n                if (window.ActiveXObject) useActiveX = true;\n            }\n            return useActiveX\n        }\n\n        var HTMLParser = canParseHTMLNatively() ? root.DOMParser : createHTMLParser();\n\n        function RootNode (input) {\n            var root;\n            if (typeof input === 'string') {\n                var doc = htmlParser().parseFromString(\n                    // DOM parsers arrange elements in the <head> and <body>.\n                    // Wrapping in a custom element ensures elements are reliably arranged in\n                    // a single element.\n                    '<x-turndown id=\"turndown-root\">' + input + '</x-turndown>',\n                    'text/html'\n                );\n                root = doc.getElementById('turndown-root');\n            } else {\n                root = input.cloneNode(true);\n            }\n            collapseWhitespace({\n                element: root,\n                isBlock: isBlock,\n                isVoid: isVoid\n            });\n\n            return root\n        }\n\n        var _htmlParser;\n        function htmlParser () {\n            _htmlParser = _htmlParser || new HTMLParser();\n            return _htmlParser\n        }\n\n        function Node (node) {\n            node.isBlock = isBlock(node);\n            node.isCode = node.nodeName.toLowerCase() === 'code' || node.parentNode.isCode;\n            node.isBlank = isBlank(node);\n            node.flankingWhitespace = flankingWhitespace(node);\n            return node\n        }\n\n        function isBlank (node) {\n            return (\n                ['A', 'TH', 'TD', 'IFRAME', 'SCRIPT', 'AUDIO', 'VIDEO'].indexOf(node.nodeName) === -1 &&\n                /^\\s*$/i.test(node.textContent) &&\n                !isVoid(node) &&\n                !hasVoid(node)\n            )\n        }\n\n        function flankingWhitespace (node) {\n            var leading = '';\n            var trailing = '';\n\n            if (!node.isBlock) {\n                var hasLeading = /^[ \\r\\n\\t]/.test(node.textContent);\n                var hasTrailing = /[ \\r\\n\\t]$/.test(node.textContent);\n\n                if (hasLeading && !isFlankedByWhitespace('left', node)) {\n                    leading = ' ';\n                }\n                if (hasTrailing && !isFlankedByWhitespace('right', node)) {\n                    trailing = ' ';\n                }\n            }\n\n            return { leading: leading, trailing: trailing }\n        }\n\n        function isFlankedByWhitespace (side, node) {\n            var sibling;\n            var regExp;\n            var isFlanked;\n\n            if (side === 'left') {\n                sibling = node.previousSibling;\n                regExp = / $/;\n            } else {\n                sibling = node.nextSibling;\n                regExp = /^ /;\n            }\n\n            if (sibling) {\n                if (sibling.nodeType === 3) {\n                    isFlanked = regExp.test(sibling.nodeValue);\n                } else if (sibling.nodeType === 1 && !isBlock(sibling)) {\n                    isFlanked = regExp.test(sibling.textContent);\n                }\n            }\n            return isFlanked\n        }\n\n        var reduce = Array.prototype.reduce;\n        var leadingNewLinesRegExp = /^\\n*/;\n        var trailingNewLinesRegExp = /\\n*$/;\n        var escapes = [\n            [/\\\\/g, '\\\\\\\\'],\n            [/\\*/g, '\\\\*'],\n            [/^-/g, '\\\\-'],\n            [/^\\+ /g, '\\\\+ '],\n            [/^(=+)/g, '\\\\$1'],\n            [/^(#{1,6}) /g, '\\\\$1 '],\n            [/`/g, '\\\\`'],\n            [/^~~~/g, '\\\\~~~'],\n            [/\\[/g, '\\\\['],\n            [/\\]/g, '\\\\]'],\n            [/^>/g, '\\\\>'],\n            [/_/g, '\\\\_'],\n            [/^(\\d+)\\. /g, '$1\\\\. ']\n        ];\n\n        function TurndownService (options) {\n            if (!(this instanceof TurndownService)) return new TurndownService(options)\n\n            var defaults = {\n                rules: rules,\n                headingStyle: 'setext',\n                hr: '* * *',\n                bulletListMarker: '*',\n                codeBlockStyle: 'indented',\n                fence: '```',\n                emDelimiter: '_',\n                strongDelimiter: '**',\n                linkStyle: 'inlined',\n                linkReferenceStyle: 'full',\n                br: '  ',\n                blankReplacement: function (content, node) {\n                    return node.isBlock ? '\\n\\n' : ''\n                },\n                keepReplacement: function (content, node) {\n                    return node.isBlock ? '\\n\\n' + node.outerHTML + '\\n\\n' : node.outerHTML\n                },\n                defaultReplacement: function (content, node) {\n                    return node.isBlock ? '\\n\\n' + content + '\\n\\n' : content\n                }\n            };\n            this.options = extend({}, defaults, options);\n            this.rules = new Rules(this.options);\n        }\n\n        TurndownService.prototype = {\n            /**\n             * The entry point for converting a string or DOM node to Markdown\n             * @public\n             * @param {String|HTMLElement} input The string or DOM node to convert\n             * @returns A Markdown representation of the input\n             * @type String\n             */\n\n            turndown: function (input) {\n                if (!canConvert(input)) {\n                    throw new TypeError(\n                        input + ' is not a string, or an element/document/fragment node.'\n                    )\n                }\n\n                if (input === '') return ''\n\n                var output = process.call(this, new RootNode(input));\n                return postProcess.call(this, output)\n            },\n\n            /**\n             * Add one or more plugins\n             * @public\n             * @param {Function|Array} plugin The plugin or array of plugins to add\n             * @returns The Turndown instance for chaining\n             * @type Object\n             */\n\n            use: function (plugin) {\n                if (Array.isArray(plugin)) {\n                    for (var i = 0; i < plugin.length; i++) this.use(plugin[i]);\n                } else if (typeof plugin === 'function') {\n                    plugin(this);\n                } else {\n                    throw new TypeError('plugin must be a Function or an Array of Functions')\n                }\n                return this\n            },\n\n            /**\n             * Adds a rule\n             * @public\n             * @param {String} key The unique key of the rule\n             * @param {Object} rule The rule\n             * @returns The Turndown instance for chaining\n             * @type Object\n             */\n\n            addRule: function (key, rule) {\n                this.rules.add(key, rule);\n                return this\n            },\n\n            /**\n             * Keep a node (as HTML) that matches the filter\n             * @public\n             * @param {String|Array|Function} filter The unique key of the rule\n             * @returns The Turndown instance for chaining\n             * @type Object\n             */\n\n            keep: function (filter) {\n                this.rules.keep(filter);\n                return this\n            },\n\n            /**\n             * Remove a node that matches the filter\n             * @public\n             * @param {String|Array|Function} filter The unique key of the rule\n             * @returns The Turndown instance for chaining\n             * @type Object\n             */\n\n            remove: function (filter) {\n                this.rules.remove(filter);\n                return this\n            },\n\n            /**\n             * Escapes Markdown syntax\n             * @public\n             * @param {String} string The string to escape\n             * @returns A string with Markdown syntax escaped\n             * @type String\n             */\n\n            escape: function (string) {\n                return escapes.reduce(function (accumulator, escape) {\n                    return accumulator.replace(escape[0], escape[1])\n                }, string)\n            }\n        };\n\n        /**\n         * Reduces a DOM node down to its Markdown string equivalent\n         * @private\n         * @param {HTMLElement} parentNode The node to convert\n         * @returns A Markdown representation of the node\n         * @type String\n         */\n\n        function process (parentNode) {\n            var self = this;\n            return reduce.call(parentNode.childNodes, function (output, node) {\n                node = new Node(node);\n\n                var replacement = '';\n                if (node.nodeType === 3) {\n                    replacement = node.isCode ? node.nodeValue : self.escape(node.nodeValue);\n                } else if (node.nodeType === 1) {\n                    replacement = replacementForNode.call(self, node);\n                }\n\n                return join(output, replacement)\n            }, '')\n        }\n\n        /**\n         * Appends strings as each rule requires and trims the output\n         * @private\n         * @param {String} output The conversion output\n         * @returns A trimmed version of the ouput\n         * @type String\n         */\n\n        function postProcess (output) {\n            var self = this;\n            this.rules.forEach(function (rule) {\n                if (typeof rule.append === 'function') {\n                    output = join(output, rule.append(self.options));\n                }\n            });\n\n            return output.replace(/^[\\t\\r\\n]+/, '').replace(/[\\t\\r\\n\\s]+$/, '')\n        }\n\n        /**\n         * Converts an element node to its Markdown equivalent\n         * @private\n         * @param {HTMLElement} node The node to convert\n         * @returns A Markdown representation of the node\n         * @type String\n         */\n\n        function replacementForNode (node) {\n            var rule = this.rules.forNode(node);\n            var content = process.call(this, node);\n            var whitespace = node.flankingWhitespace;\n            if (whitespace.leading || whitespace.trailing) content = content.trim();\n            return (\n                whitespace.leading +\n                rule.replacement(content, node, this.options) +\n                whitespace.trailing\n            )\n        }\n\n        /**\n         * Determines the new lines between the current output and the replacement\n         * @private\n         * @param {String} output The current conversion output\n         * @param {String} replacement The string to append to the output\n         * @returns The whitespace to separate the current output and the replacement\n         * @type String\n         */\n\n        function separatingNewlines (output, replacement) {\n            var newlines = [\n                output.match(trailingNewLinesRegExp)[0],\n                replacement.match(leadingNewLinesRegExp)[0]\n            ].sort();\n            var maxNewlines = newlines[newlines.length - 1];\n            return maxNewlines.length < 2 ? maxNewlines : '\\n\\n'\n        }\n\n        function join (string1, string2) {\n            var separator = separatingNewlines(string1, string2);\n\n            // Remove trailing/leading newlines and replace with separator\n            string1 = string1.replace(trailingNewLinesRegExp, '');\n            string2 = string2.replace(leadingNewLinesRegExp, '');\n\n            return string1 + separator + string2\n        }\n\n        /**\n         * Determines whether an input can be converted\n         * @private\n         * @param {String|HTMLElement} input Describe this parameter\n         * @returns Describe what it returns\n         * @type String|Object|Array|Boolean|Number\n         */\n\n        function canConvert (input) {\n            return (\n                input != null && (\n                    typeof input === 'string' ||\n                    (input.nodeType && (\n                        input.nodeType === 1 || input.nodeType === 9 || input.nodeType === 11\n                    ))\n                )\n            )\n        }\n\n        return new TurndownService().turndown(html);\n    }\n\n    /**\n     * Converts a markdown string to HTML\n     *\n     * @param {String} markdown\n     *\n     * @return {String} HTML\n     *\n     * Copyright (c) 2011-2018, Christopher Jeffrey (https://github.com/chjj/)\n     *\n     * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n     *\n     * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n     *\n     * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n     */\n    static toHtml(markdown) {\n        /**\n         * Block-Level Grammar\n         */\n        var block = {\n            newline: /^\\n+/,\n            code: /^( {4}[^\\n]+\\n*)+/,\n            fences: noop,\n            hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n            heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n            nptable: noop,\n            blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n            list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n            html: '^ {0,3}(?:' // optional indentation\n            + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n            + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n            + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n            + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n            + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n            + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n            + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n            + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n            + ')',\n            def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n            table: noop,\n            lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n            paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading| {0,3}>|<\\/?(?:tag)(?: +|\\n|\\/?>)|<(?:script|pre|style|!--))[^\\n]+)*)/,\n            text: /^[^\\n]+/\n        };\n\n        block._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\n        block._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\n        block.def = edit(block.def)\n            .replace('label', block._label)\n            .replace('title', block._title)\n            .getRegex();\n\n        block.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\n        block.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\n        block.item = edit(block.item, 'gm')\n            .replace(/bull/g, block.bullet)\n            .getRegex();\n\n        block.list = edit(block.list)\n            .replace(/bull/g, block.bullet)\n            .replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))')\n            .replace('def', '\\\\n+(?=' + block.def.source + ')')\n            .getRegex();\n\n        block._tag = 'address|article|aside|base|basefont|blockquote|body|caption'\n            + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption'\n            + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe'\n            + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option'\n            + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr'\n            + '|track|ul';\n        block._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\n        block.html = edit(block.html, 'i')\n            .replace('comment', block._comment)\n            .replace('tag', block._tag)\n            .replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/)\n            .getRegex();\n\n        block.paragraph = edit(block.paragraph)\n            .replace('hr', block.hr)\n            .replace('heading', block.heading)\n            .replace('lheading', block.lheading)\n            .replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n            .getRegex();\n\n        block.blockquote = edit(block.blockquote)\n            .replace('paragraph', block.paragraph)\n            .getRegex();\n\n        /**\n         * Normal Block Grammar\n         */\n\n        block.normal = merge({}, block);\n\n        /**\n         * GFM Block Grammar\n         */\n\n        block.gfm = merge({}, block.normal, {\n            fences: /^ {0,3}(`{3,}|~{3,})([^`\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n            paragraph: /^/,\n            heading: /^ *(#{1,6}) +([^\\n]+?) *#* *(?:\\n+|$)/\n        });\n\n        block.gfm.paragraph = edit(block.paragraph)\n            .replace('(?!', '(?!'\n                + block.gfm.fences.source.replace('\\\\1', '\\\\2') + '|'\n                + block.list.source.replace('\\\\1', '\\\\3') + '|')\n            .getRegex();\n\n        /**\n         * GFM + Tables Block Grammar\n         */\n\n        block.tables = merge({}, block.gfm, {\n            nptable: /^ *([^|\\n ].*\\|.*)\\n *([-:]+ *\\|[-| :]*)(?:\\n((?:.*[^>\\n ].*(?:\\n|$))*)\\n*|$)/,\n            table: /^ *\\|(.+)\\n *\\|?( *[-:]+[-| :]*)(?:\\n((?: *[^>\\n ].*(?:\\n|$))*)\\n*|$)/\n        });\n\n        /**\n         * Pedantic grammar\n         */\n\n        block.pedantic = merge({}, block.normal, {\n            html: edit(\n                '^ *(?:comment *(?:\\\\n|\\\\s*$)'\n                + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n                + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))')\n            .replace('comment', block._comment)\n            .replace(/tag/g, '(?!(?:'\n                + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub'\n                + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)'\n                + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b')\n            .getRegex(),\n            def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/\n        });\n\n        /**\n         * Block Lexer\n         */\n\n        function Lexer(options) {\n            this.tokens = [];\n            this.tokens.links = Object.create(null);\n            this.options = options || marked.defaults;\n            this.rules = block.normal;\n\n            if (this.options.pedantic) {\n                this.rules = block.pedantic;\n            } else if (this.options.gfm) {\n                if (this.options.tables) {\n                    this.rules = block.tables;\n                } else {\n                    this.rules = block.gfm;\n                }\n            }\n        }\n\n        /**\n         * Expose Block Rules\n         */\n\n        Lexer.rules = block;\n\n        /**\n         * Static Lex Method\n         */\n\n        Lexer.lex = function(src, options) {\n            var lexer = new Lexer(options);\n            return lexer.lex(src);\n        };\n\n        /**\n         * Preprocessing\n         */\n\n        Lexer.prototype.lex = function(src) {\n            src = src\n                .replace(/\\r\\n|\\r/g, '\\n')\n                .replace(/\\t/g, '    ')\n                .replace(/\\u00a0/g, ' ')\n                .replace(/\\u2424/g, '\\n');\n\n            return this.token(src, true);\n        };\n\n        /**\n         * Lexing\n         */\n\n        Lexer.prototype.token = function(src, top) {\n            src = src.replace(/^ +$/gm, '');\n            var next,\n                loose,\n                cap,\n                bull,\n                b,\n                item,\n                listStart,\n                listItems,\n                t,\n                space,\n                i,\n                tag,\n                l,\n                isordered,\n                istask,\n                ischecked;\n\n            while (src) {\n                // newline\n                if (cap = this.rules.newline.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    if (cap[0].length > 1) {\n                        this.tokens.push({\n                            type: 'space'\n                        });\n                    }\n                }\n\n                // code\n                if (cap = this.rules.code.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    cap = cap[0].replace(/^ {4}/gm, '');\n                    this.tokens.push({\n                        type: 'code',\n                        text: !this.options.pedantic\n                        ? rtrim(cap, '\\n')\n                        : cap\n                    });\n                    continue;\n                }\n\n                // fences (gfm)\n                if (cap = this.rules.fences.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    this.tokens.push({\n                        type: 'code',\n                        lang: cap[2] ? cap[2].trim() : cap[2],\n                        text: cap[3] || ''\n                    });\n                    continue;\n                }\n\n                // heading\n                if (cap = this.rules.heading.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    this.tokens.push({\n                        type: 'heading',\n                        depth: cap[1].length,\n                        text: cap[2]\n                    });\n                    continue;\n                }\n\n                // table no leading pipe (gfm)\n                if (cap = this.rules.nptable.exec(src)) {\n                    item = {\n                        type: 'table',\n                        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n                        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n                        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n                    };\n\n                    if (item.header.length === item.align.length) {\n                        src = src.substring(cap[0].length);\n\n                        for (i = 0; i < item.align.length; i++) {\n                            if (/^ *-+: *$/.test(item.align[i])) {\n                                item.align[i] = 'right';\n                            } else if (/^ *:-+: *$/.test(item.align[i])) {\n                                item.align[i] = 'center';\n                            } else if (/^ *:-+ *$/.test(item.align[i])) {\n                                item.align[i] = 'left';\n                            } else {\n                                item.align[i] = null;\n                            }\n                        }\n\n                        for (i = 0; i < item.cells.length; i++) {\n                            item.cells[i] = splitCells(item.cells[i], item.header.length);\n                        }\n\n                        this.tokens.push(item);\n\n                        continue;\n                    }\n                }\n\n                // hr\n                if (cap = this.rules.hr.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    this.tokens.push({\n                        type: 'hr'\n                    });\n                    continue;\n                }\n\n                // blockquote\n                if (cap = this.rules.blockquote.exec(src)) {\n                    src = src.substring(cap[0].length);\n\n                    this.tokens.push({\n                        type: 'blockquote_start'\n                    });\n\n                    cap = cap[0].replace(/^ *> ?/gm, '');\n\n                    // Pass `top` to keep the current\n                    // \"toplevel\" state. This is exactly\n                    // how markdown.pl works.\n                    this.token(cap, top);\n\n                    this.tokens.push({\n                        type: 'blockquote_end'\n                    });\n\n                    continue;\n                }\n\n                // list\n                if (cap = this.rules.list.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    bull = cap[2];\n                    isordered = bull.length > 1;\n\n                    listStart = {\n                        type: 'list_start',\n                        ordered: isordered,\n                        start: isordered ? +bull : '',\n                        loose: false\n                    };\n\n                    this.tokens.push(listStart);\n\n                    // Get each top-level item.\n                    cap = cap[0].match(this.rules.item);\n\n                    listItems = [];\n                    next = false;\n                    l = cap.length;\n                    i = 0;\n\n                    for (; i < l; i++) {\n                        item = cap[i];\n\n                        // Remove the list item's bullet\n                        // so it is seen as the next token.\n                        space = item.length;\n                        item = item.replace(/^ *([*+-]|\\d+\\.) */, '');\n\n                        // Outdent whatever the\n                        // list item contains. Hacky.\n                        if (~item.indexOf('\\n ')) {\n                            space -= item.length;\n                            item = !this.options.pedantic\n                                ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '')\n                                : item.replace(/^ {1,4}/gm, '');\n                        }\n\n                        // Determine whether the next list item belongs here.\n                        // Backpedal if it does not belong in this list.\n                        if (i !== l - 1) {\n                            b = block.bullet.exec(cap[i + 1])[0];\n                            if (bull.length > 1 ? b.length === 1\n                                : (b.length > 1 || (this.options.smartLists && b !== bull))) {\n                                src = cap.slice(i + 1).join('\\n') + src;\n                                i = l - 1;\n                            }\n                        }\n\n                        // Determine whether item is loose or not.\n                        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n                        // for discount behavior.\n                        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n                        if (i !== l - 1) {\n                            next = item.charAt(item.length - 1) === '\\n';\n                            if (!loose) loose = next;\n                        }\n\n                        if (loose) {\n                            listStart.loose = true;\n                        }\n\n                        // Check for task list items\n                        istask = /^\\[[ xX]\\] /.test(item);\n                        ischecked = undefined;\n                        if (istask) {\n                            ischecked = item[1] !== ' ';\n                            item = item.replace(/^\\[[ xX]\\] +/, '');\n                        }\n\n                        t = {\n                            type: 'list_item_start',\n                            task: istask,\n                            checked: ischecked,\n                            loose: loose\n                        };\n\n                        listItems.push(t);\n                        this.tokens.push(t);\n\n                        // Recurse.\n                        this.token(item, false);\n\n                        this.tokens.push({\n                            type: 'list_item_end'\n                        });\n                    }\n\n                    if (listStart.loose) {\n                        l = listItems.length;\n                        i = 0;\n                        for (; i < l; i++) {\n                            listItems[i].loose = true;\n                        }\n                    }\n\n                    this.tokens.push({\n                        type: 'list_end'\n                    });\n\n                    continue;\n                }\n\n                // html\n                if (cap = this.rules.html.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    this.tokens.push({\n                        type: this.options.sanitize\n                        ? 'paragraph'\n                        : 'html',\n                        pre: !this.options.sanitizer\n                        && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n                        text: cap[0]\n                    });\n                    continue;\n                }\n\n                // def\n                if (top && (cap = this.rules.def.exec(src))) {\n                    src = src.substring(cap[0].length);\n                    if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n                    tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n                    if (!this.tokens.links[tag]) {\n                        this.tokens.links[tag] = {\n                            href: cap[2],\n                            title: cap[3]\n                        };\n                    }\n                    continue;\n                }\n\n                // table (gfm)\n                if (cap = this.rules.table.exec(src)) {\n                    item = {\n                        type: 'table',\n                        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n                        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n                        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n                    };\n\n                    if (item.header.length === item.align.length) {\n                        src = src.substring(cap[0].length);\n\n                        for (i = 0; i < item.align.length; i++) {\n                            if (/^ *-+: *$/.test(item.align[i])) {\n                                item.align[i] = 'right';\n                            } else if (/^ *:-+: *$/.test(item.align[i])) {\n                                item.align[i] = 'center';\n                            } else if (/^ *:-+ *$/.test(item.align[i])) {\n                                item.align[i] = 'left';\n                            } else {\n                                item.align[i] = null;\n                            }\n                        }\n\n                        for (i = 0; i < item.cells.length; i++) {\n                            item.cells[i] = splitCells(\n                                item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''),\n                                item.header.length);\n                        }\n\n                        this.tokens.push(item);\n\n                        continue;\n                    }\n                }\n\n                // lheading\n                if (cap = this.rules.lheading.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    this.tokens.push({\n                        type: 'heading',\n                        depth: cap[2] === '=' ? 1 : 2,\n                        text: cap[1]\n                    });\n                    continue;\n                }\n\n                // top-level paragraph\n                if (top && (cap = this.rules.paragraph.exec(src))) {\n                    src = src.substring(cap[0].length);\n                    this.tokens.push({\n                        type: 'paragraph',\n                        text: cap[1].charAt(cap[1].length - 1) === '\\n'\n                        ? cap[1].slice(0, -1)\n                        : cap[1]\n                    });\n                    continue;\n                }\n\n                // text\n                if (cap = this.rules.text.exec(src)) {\n                    // Top-level should never reach here.\n                    src = src.substring(cap[0].length);\n                    this.tokens.push({\n                        type: 'text',\n                        text: cap[0]\n                    });\n                    continue;\n                }\n\n                if (src) {\n                    throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n                }\n            }\n\n            return this.tokens;\n        };\n\n        /**\n         * Inline-Level Grammar\n         */\n\n        var inline = {\n            escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n            autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n            url: noop,\n            tag: '^comment'\n            + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n            + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n            + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n            + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n            + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>', // CDATA section\n            link: /^!?\\[(label)\\]\\(href(?:\\s+(title))?\\s*\\)/,\n            reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n            nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n            strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n            em: /^_([^\\s_])_(?!_)|^\\*([^\\s*\"<\\[])\\*(?!\\*)|^_([^\\s][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s\"<\\[][\\s\\S]*?[^\\s*])\\*(?!\\*)|^\\*([^\\s*\"<\\[][\\s\\S]*?[^\\s])\\*(?!\\*)/,\n            code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n            br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n            del: noop,\n            text: /^(`+|[^`])[\\s\\S]*?(?=[\\\\<!\\[`*]|\\b_| {2,}\\n|$)/\n        };\n\n        // list of punctuation marks from common mark spec\n        // without ` and ] to workaround Rule 17 (inline code blocks/links)\n        inline._punctuation = '!\"#$%&\\'()*+,\\\\-./:;<=>?@\\\\[^_{|}~';\n        inline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\n\n        inline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\n\n        inline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\n        inline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\n        inline.autolink = edit(inline.autolink)\n            .replace('scheme', inline._scheme)\n            .replace('email', inline._email)\n            .getRegex();\n\n        inline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\n\n        inline.tag = edit(inline.tag)\n            .replace('comment', block._comment)\n            .replace('attribute', inline._attribute)\n            .getRegex();\n\n        inline._label = /(?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]?|`[^`]*`|`(?!`)|[^\\[\\]\\\\`])*?/;\n        inline._href = /\\s*(<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*)/;\n        inline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\n\n        inline.link = edit(inline.link)\n            .replace('label', inline._label)\n            .replace('href', inline._href)\n            .replace('title', inline._title)\n            .getRegex();\n\n        inline.reflink = edit(inline.reflink)\n            .replace('label', inline._label)\n            .getRegex();\n\n        /**\n         * Normal Inline Grammar\n         */\n\n        inline.normal = merge({}, inline);\n\n        /**\n         * Pedantic Inline Grammar\n         */\n\n        inline.pedantic = merge({}, inline.normal, {\n            strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n            em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n            link: edit(/^!?\\[(label)\\]\\((.*?)\\)/)\n            .replace('label', inline._label)\n            .getRegex(),\n            reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/)\n            .replace('label', inline._label)\n            .getRegex()\n        });\n\n        /**\n         * GFM Inline Grammar\n         */\n\n        inline.gfm = merge({}, inline.normal, {\n            escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n            _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n            url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n            _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n            del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n            text: edit(inline.text)\n            .replace(']|', '~]|')\n            .replace('|$', '|https?://|ftp://|www\\\\.|[a-zA-Z0-9.!#$%&\\'*+/=?^_`{\\\\|}~-]+@|$')\n            .getRegex()\n        });\n\n        inline.gfm.url = edit(inline.gfm.url, 'i')\n            .replace('email', inline.gfm._extended_email)\n            .getRegex();\n        /**\n         * GFM + Line Breaks Inline Grammar\n         */\n\n        inline.breaks = merge({}, inline.gfm, {\n            br: edit(inline.br).replace('{2,}', '*').getRegex(),\n            text: edit(inline.gfm.text).replace('{2,}', '*').getRegex()\n        });\n\n        /**\n         * Inline Lexer & Compiler\n         */\n\n        function InlineLexer(links, options) {\n            this.options = options || marked.defaults;\n            this.links = links;\n            this.rules = inline.normal;\n            this.renderer = this.options.renderer || new Renderer();\n            this.renderer.options = this.options;\n\n            if (!this.links) {\n                throw new Error('Tokens array requires a `links` property.');\n            }\n\n            if (this.options.pedantic) {\n                this.rules = inline.pedantic;\n            } else if (this.options.gfm) {\n                if (this.options.breaks) {\n                    this.rules = inline.breaks;\n                } else {\n                    this.rules = inline.gfm;\n                }\n            }\n        }\n\n        /**\n         * Expose Inline Rules\n         */\n\n        InlineLexer.rules = inline;\n\n        /**\n         * Static Lexing/Compiling Method\n         */\n\n        InlineLexer.output = function(src, links, options) {\n            var inline = new InlineLexer(links, options);\n            return inline.output(src);\n        };\n\n        /**\n         * Lexing/Compiling\n         */\n\n        InlineLexer.prototype.output = function(src) {\n            var out = '',\n                link,\n                text,\n                href,\n                title,\n                cap,\n                prevCapZero;\n\n            while (src) {\n                // escape\n                if (cap = this.rules.escape.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    out += escape(cap[1]);\n                    continue;\n                }\n\n                // tag\n                if (cap = this.rules.tag.exec(src)) {\n                    if (!this.inLink && /^<a /i.test(cap[0])) {\n                        this.inLink = true;\n                    } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n                        this.inLink = false;\n                    }\n                    if (!this.inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n                        this.inRawBlock = true;\n                    } else if (this.inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n                        this.inRawBlock = false;\n                    }\n\n                    src = src.substring(cap[0].length);\n                    out += this.options.sanitize\n                        ? this.options.sanitizer\n                        ? this.options.sanitizer(cap[0])\n                        : escape(cap[0])\n                        : cap[0];\n                    continue;\n                }\n\n                // link\n                if (cap = this.rules.link.exec(src)) {\n                    var lastParenIndex = findClosingBracket(cap[2], '()');\n                    if (lastParenIndex > -1) {\n                        var linkLen = cap[0].length - (cap[2].length - lastParenIndex) - (cap[3] || '').length;\n                        cap[2] = cap[2].substring(0, lastParenIndex);\n                        cap[0] = cap[0].substring(0, linkLen).trim();\n                        cap[3] = '';\n                    }\n                    src = src.substring(cap[0].length);\n                    this.inLink = true;\n                    href = cap[2];\n                    if (this.options.pedantic) {\n                        link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n                        if (link) {\n                            href = link[1];\n                            title = link[3];\n                        } else {\n                            title = '';\n                        }\n                    } else {\n                        title = cap[3] ? cap[3].slice(1, -1) : '';\n                    }\n                    href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n                    out += this.outputLink(cap, {\n                        href: InlineLexer.escapes(href),\n                        title: InlineLexer.escapes(title)\n                    });\n                    this.inLink = false;\n                    continue;\n                }\n\n                // reflink, nolink\n                if ((cap = this.rules.reflink.exec(src))\n                    || (cap = this.rules.nolink.exec(src))) {\n                    src = src.substring(cap[0].length);\n                    link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n                    link = this.links[link.toLowerCase()];\n                    if (!link || !link.href) {\n                        out += cap[0].charAt(0);\n                        src = cap[0].substring(1) + src;\n                        continue;\n                    }\n                    this.inLink = true;\n                    out += this.outputLink(cap, link);\n                    this.inLink = false;\n                    continue;\n                }\n\n                // strong\n                if (cap = this.rules.strong.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    out += this.renderer.strong(this.output(cap[4] || cap[3] || cap[2] || cap[1]));\n                    continue;\n                }\n\n                // em\n                if (cap = this.rules.em.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    out += this.renderer.em(this.output(cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]));\n                    continue;\n                }\n\n                // code\n                if (cap = this.rules.code.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    out += this.renderer.codespan(escape(cap[2].trim(), true));\n                    continue;\n                }\n\n                // br\n                if (cap = this.rules.br.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    out += this.renderer.br();\n                    continue;\n                }\n\n                // del (gfm)\n                if (cap = this.rules.del.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    out += this.renderer.del(this.output(cap[1]));\n                    continue;\n                }\n\n                // autolink\n                if (cap = this.rules.autolink.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    if (cap[2] === '@') {\n                        text = escape(this.mangle(cap[1]));\n                        href = 'mailto:' + text;\n                    } else {\n                        text = escape(cap[1]);\n                        href = text;\n                    }\n                    out += this.renderer.link(href, null, text);\n                    continue;\n                }\n\n                // url (gfm)\n                if (!this.inLink && (cap = this.rules.url.exec(src))) {\n                    if (cap[2] === '@') {\n                        text = escape(cap[0]);\n                        href = 'mailto:' + text;\n                    } else {\n                        // do extended autolink path validation\n                        do {\n                            prevCapZero = cap[0];\n                            cap[0] = this.rules._backpedal.exec(cap[0])[0];\n                        } while (prevCapZero !== cap[0]);\n                        text = escape(cap[0]);\n                        if (cap[1] === 'www.') {\n                            href = 'http://' + text;\n                        } else {\n                            href = text;\n                        }\n                    }\n                    src = src.substring(cap[0].length);\n                    out += this.renderer.link(href, null, text);\n                    continue;\n                }\n\n                // text\n                if (cap = this.rules.text.exec(src)) {\n                    src = src.substring(cap[0].length);\n                    if (this.inRawBlock) {\n                        out += this.renderer.text(cap[0]);\n                    } else {\n                        out += this.renderer.text(escape(this.smartypants(cap[0])));\n                    }\n                    continue;\n                }\n\n                if (src) {\n                    throw new Error('Infinite loop on byte: ' + src.charCodeAt(0));\n                }\n            }\n\n            return out;\n        };\n\n        InlineLexer.escapes = function(text) {\n            return text ? text.replace(InlineLexer.rules._escapes, '$1') : text;\n        };\n\n        /**\n         * Compile Link\n         */\n\n        InlineLexer.prototype.outputLink = function(cap, link) {\n            var href = link.href,\n                title = link.title ? escape(link.title) : null;\n\n            return cap[0].charAt(0) !== '!'\n                ? this.renderer.link(href, title, this.output(cap[1]))\n                : this.renderer.image(href, title, escape(cap[1]));\n        };\n\n        /**\n         * Smartypants Transformations\n         */\n\n        InlineLexer.prototype.smartypants = function(text) {\n            if (!this.options.smartypants) return text;\n            return text\n            // em-dashes\n                .replace(/---/g, '\\u2014')\n            // en-dashes\n                .replace(/--/g, '\\u2013')\n            // opening singles\n                .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018')\n            // closing singles & apostrophes\n                .replace(/'/g, '\\u2019')\n            // opening doubles\n                .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c')\n            // closing doubles\n                .replace(/\"/g, '\\u201d')\n            // ellipses\n                .replace(/\\.{3}/g, '\\u2026');\n        };\n\n        /**\n         * Mangle Links\n         */\n\n        InlineLexer.prototype.mangle = function(text) {\n            if (!this.options.mangle) return text;\n            var out = '',\n                l = text.length,\n                i = 0,\n                ch;\n\n            for (; i < l; i++) {\n                ch = text.charCodeAt(i);\n                if (Math.random() > 0.5) {\n                    ch = 'x' + ch.toString(16);\n                }\n                out += '&#' + ch + ';';\n            }\n\n            return out;\n        };\n\n        /**\n         * Renderer\n         */\n\n        function Renderer(options) {\n            this.options = options || marked.defaults;\n        }\n\n        Renderer.prototype.code = function(code, infostring, escaped) {\n            var lang = (infostring || '').match(/\\S*/)[0];\n            if (this.options.highlight) {\n                var out = this.options.highlight(code, lang);\n                if (out != null && out !== code) {\n                    escaped = true;\n                    code = out;\n                }\n            }\n\n            if (!lang) {\n                return '<pre><code>'\n                    + (escaped ? code : escape(code, true))\n                    + '</code></pre>';\n            }\n\n            return '<pre><code class=\"'\n                + this.options.langPrefix\n                + escape(lang, true)\n                + '\">'\n                + (escaped ? code : escape(code, true))\n                + '</code></pre>\\n';\n        };\n\n        Renderer.prototype.blockquote = function(quote) {\n            return '<blockquote>\\n' + quote + '</blockquote>\\n';\n        };\n\n        Renderer.prototype.html = function(html) {\n            return html;\n        };\n\n        Renderer.prototype.heading = function(text, level, raw, slugger) {\n            if (this.options.headerIds) {\n                return '<h'\n                    + level\n                    + ' id=\"'\n                    + this.options.headerPrefix\n                    + slugger.slug(raw)\n                    + '\">'\n                    + text\n                    + '</h'\n                    + level\n                    + '>\\n';\n            }\n            // ignore IDs\n            return '<h' + level + '>' + text + '</h' + level + '>\\n';\n        };\n\n        Renderer.prototype.hr = function() {\n            return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n        };\n\n        Renderer.prototype.list = function(body, ordered, start) {\n            var type = ordered ? 'ol' : 'ul',\n                startatt = (ordered && start !== 1) ? (' start=\"' + start + '\"') : '';\n            return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n        };\n\n        Renderer.prototype.listitem = function(text) {\n            return '<li>' + text + '</li>\\n';\n        };\n\n        Renderer.prototype.checkbox = function(checked) {\n            return '<input '\n                + (checked ? 'checked=\"\" ' : '')\n                + 'disabled=\"\" type=\"checkbox\"'\n                + (this.options.xhtml ? ' /' : '')\n                + '> ';\n        };\n\n        Renderer.prototype.paragraph = function(text) {\n            return '<p>' + text + '</p>\\n';\n        };\n\n        Renderer.prototype.table = function(header, body) {\n            if (body) body = '<tbody>' + body + '</tbody>';\n\n            return '<table>\\n'\n                + '<thead>\\n'\n                + header\n                + '</thead>\\n'\n                + body\n                + '</table>\\n';\n        };\n\n        Renderer.prototype.tablerow = function(content) {\n            return '<tr>\\n' + content + '</tr>\\n';\n        };\n\n        Renderer.prototype.tablecell = function(content, flags) {\n            var type = flags.header ? 'th' : 'td';\n            var tag = flags.align\n                ? '<' + type + ' align=\"' + flags.align + '\">'\n                : '<' + type + '>';\n            return tag + content + '</' + type + '>\\n';\n        };\n\n        // span level renderer\n        Renderer.prototype.strong = function(text) {\n            return '<strong>' + text + '</strong>';\n        };\n\n        Renderer.prototype.em = function(text) {\n            return '<em>' + text + '</em>';\n        };\n\n        Renderer.prototype.codespan = function(text) {\n            return '<code>' + text + '</code>';\n        };\n\n        Renderer.prototype.br = function() {\n            return this.options.xhtml ? '<br/>' : '<br>';\n        };\n\n        Renderer.prototype.del = function(text) {\n            return '<del>' + text + '</del>';\n        };\n\n        Renderer.prototype.link = function(href, title, text) {\n            href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n            if (href === null) {\n                return text;\n            }\n            var out = '<a href=\"' + escape(href) + '\"';\n            if (title) {\n                out += ' title=\"' + title + '\"';\n            }\n            out += '>' + text + '</a>';\n            return out;\n        };\n\n        Renderer.prototype.image = function(href, title, text) {\n            href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n            if (href === null) {\n                return text;\n            }\n\n            var out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n            if (title) {\n                out += ' title=\"' + title + '\"';\n            }\n            out += this.options.xhtml ? '/>' : '>';\n            return out;\n        };\n\n        Renderer.prototype.text = function(text) {\n            return text;\n        };\n\n        /**\n         * TextRenderer\n         * returns only the textual part of the token\n         */\n\n        function TextRenderer() {}\n\n        // no need for block level renderers\n\n        TextRenderer.prototype.strong =\n            TextRenderer.prototype.em =\n            TextRenderer.prototype.codespan =\n            TextRenderer.prototype.del =\n            TextRenderer.prototype.text = function (text) {\n                return text;\n            };\n\n        TextRenderer.prototype.link =\n            TextRenderer.prototype.image = function(href, title, text) {\n                return '' + text;\n            };\n\n        TextRenderer.prototype.br = function() {\n            return '';\n        };\n\n        /**\n         * Parsing & Compiling\n         */\n\n        function Parser(options) {\n            this.tokens = [];\n            this.token = null;\n            this.options = options || marked.defaults;\n            this.options.renderer = this.options.renderer || new Renderer();\n            this.renderer = this.options.renderer;\n            this.renderer.options = this.options;\n            this.slugger = new Slugger();\n        }\n\n        /**\n         * Static Parse Method\n         */\n\n        Parser.parse = function(src, options) {\n            var parser = new Parser(options);\n            return parser.parse(src);\n        };\n\n        /**\n         * Parse Loop\n         */\n\n        Parser.prototype.parse = function(src) {\n            this.inline = new InlineLexer(src.links, this.options);\n            // use an InlineLexer with a TextRenderer to extract pure text\n            this.inlineText = new InlineLexer(\n                src.links,\n                merge({}, this.options, {renderer: new TextRenderer()})\n            );\n            this.tokens = src.reverse();\n\n            var out = '';\n            while (this.next()) {\n                out += this.tok();\n            }\n\n            return out;\n        };\n\n        /**\n         * Next Token\n         */\n\n        Parser.prototype.next = function() {\n            return this.token = this.tokens.pop();\n        };\n\n        /**\n         * Preview Next Token\n         */\n\n        Parser.prototype.peek = function() {\n            return this.tokens[this.tokens.length - 1] || 0;\n        };\n\n        /**\n         * Parse Text Tokens\n         */\n\n        Parser.prototype.parseText = function() {\n            var body = this.token.text;\n\n            while (this.peek().type === 'text') {\n                body += '\\n' + this.next().text;\n            }\n\n            return this.inline.output(body);\n        };\n\n        /**\n         * Parse Current Token\n         */\n\n        Parser.prototype.tok = function() {\n            switch (this.token.type) {\n                case 'space': {\n                    return '';\n                }\n                case 'hr': {\n                    return this.renderer.hr();\n                }\n                case 'heading': {\n                    return this.renderer.heading(\n                        this.inline.output(this.token.text),\n                        this.token.depth,\n                        unescape(this.inlineText.output(this.token.text)),\n                        this.slugger);\n                }\n                case 'code': {\n                    return this.renderer.code(this.token.text,\n                        this.token.lang,\n                        this.token.escaped);\n                }\n                case 'table': {\n                    var header = '',\n                    body = '',\n                    i,\n                    row,\n                    cell,\n                    j;\n\n                    // header\n                    cell = '';\n                    for (i = 0; i < this.token.header.length; i++) {\n                        cell += this.renderer.tablecell(\n                            this.inline.output(this.token.header[i]),\n                            { header: true, align: this.token.align[i] }\n                        );\n                    }\n                    header += this.renderer.tablerow(cell);\n\n                    for (i = 0; i < this.token.cells.length; i++) {\n                        row = this.token.cells[i];\n\n                        cell = '';\n                        for (j = 0; j < row.length; j++) {\n                            cell += this.renderer.tablecell(\n                                this.inline.output(row[j]),\n                                { header: false, align: this.token.align[j] }\n                            );\n                        }\n\n                        body += this.renderer.tablerow(cell);\n                    }\n                    return this.renderer.table(header, body);\n                }\n                case 'blockquote_start': {\n                    body = '';\n\n                    while (this.next().type !== 'blockquote_end') {\n                        body += this.tok();\n                    }\n\n                    return this.renderer.blockquote(body);\n                }\n                case 'list_start': {\n                    body = '';\n                    var ordered = this.token.ordered,\n                    start = this.token.start;\n\n                    while (this.next().type !== 'list_end') {\n                        body += this.tok();\n                    }\n\n                    return this.renderer.list(body, ordered, start);\n                }\n                case 'list_item_start': {\n                    body = '';\n                    var loose = this.token.loose;\n                    var checked = this.token.checked;\n                    var task = this.token.task;\n\n                    if (this.token.task) {\n                        body += this.renderer.checkbox(checked);\n                    }\n\n                    while (this.next().type !== 'list_item_end') {\n                        body += !loose && this.token.type === 'text'\n                            ? this.parseText()\n                            : this.tok();\n                    }\n                    return this.renderer.listitem(body, task, checked);\n                }\n                case 'html': {\n                    // TODO parse inline content if parameter markdown=1\n                    return this.renderer.html(this.token.text);\n                }\n                case 'paragraph': {\n                    return this.renderer.paragraph(this.inline.output(this.token.text));\n                }\n                case 'text': {\n                    return this.renderer.paragraph(this.parseText());\n                }\n                default: {\n                    var errMsg = 'Token with \"' + this.token.type + '\" type was not found.';\n                    if (this.options.silent) {\n                        console.log(errMsg);\n                    } else {\n                        throw new Error(errMsg);\n                    }\n                }\n            }\n        };\n\n        /**\n         * Slugger generates header id\n         */\n\n        function Slugger () {\n            this.seen = {};\n        }\n\n        /**\n         * Convert string to unique id\n         */\n\n        Slugger.prototype.slug = function (value) {\n            var slug = value\n                .toLowerCase()\n                .trim()\n                .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '')\n                .replace(/\\s/g, '-');\n\n            if (this.seen.hasOwnProperty(slug)) {\n                var originalSlug = slug;\n                do {\n                    this.seen[originalSlug]++;\n                    slug = originalSlug + '-' + this.seen[originalSlug];\n                } while (this.seen.hasOwnProperty(slug));\n            }\n            this.seen[slug] = 0;\n\n            return slug;\n        };\n\n        /**\n         * Helpers\n         */\n\n        function escape(html, encode) {\n            if (encode) {\n                if (escape.escapeTest.test(html)) {\n                    return html.replace(escape.escapeReplace, function (ch) { return escape.replacements[ch]; });\n                }\n            } else {\n                if (escape.escapeTestNoEncode.test(html)) {\n                    return html.replace(escape.escapeReplaceNoEncode, function (ch) { return escape.replacements[ch]; });\n                }\n            }\n\n            return html;\n        }\n\n        escape.escapeTest = /[&<>\"']/;\n        escape.escapeReplace = /[&<>\"']/g;\n        escape.replacements = {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            '\"': '&quot;',\n            \"'\": '&#39;'\n        };\n\n        escape.escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\n        escape.escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\n\n        function unescape(html) {\n            // explicitly match decimal, hex, and named HTML entities\n            return html.replace(/&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig, function(_, n) {\n                n = n.toLowerCase();\n                if (n === 'colon') return ':';\n                if (n.charAt(0) === '#') {\n                    return n.charAt(1) === 'x'\n                        ? String.fromCharCode(parseInt(n.substring(2), 16))\n                        : String.fromCharCode(+n.substring(1));\n                }\n                return '';\n            });\n        }\n\n        function edit(regex, opt) {\n            regex = regex.source || regex;\n            opt = opt || '';\n            return {\n                replace: function(name, val) {\n                    val = val.source || val;\n                    val = val.replace(/(^|[^\\[])\\^/g, '$1');\n                    regex = regex.replace(name, val);\n                    return this;\n                },\n                getRegex: function() {\n                    return new RegExp(regex, opt);\n                }\n            };\n        }\n\n        function cleanUrl(sanitize, base, href) {\n            if (sanitize) {\n                try {\n                    var prot = decodeURIComponent(unescape(href))\n                        .replace(/[^\\w:]/g, '')\n                        .toLowerCase();\n                } catch (e) {\n                    return null;\n                }\n                if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n                    return null;\n                }\n            }\n            if (base && !originIndependentUrl.test(href)) {\n                href = resolveUrl(base, href);\n            }\n            try {\n                href = encodeURI(href).replace(/%25/g, '%');\n            } catch (e) {\n                return null;\n            }\n            return href;\n        }\n\n        function resolveUrl(base, href) {\n            if (!baseUrls[' ' + base]) {\n                // we can ignore everything in base after the last slash of its path component,\n                // but we might need to add _that_\n                // https://tools.ietf.org/html/rfc3986#section-3\n                if (/^[^:]+:\\/*[^/]*$/.test(base)) {\n                    baseUrls[' ' + base] = base + '/';\n                } else {\n                    baseUrls[' ' + base] = rtrim(base, '/', true);\n                }\n            }\n            base = baseUrls[' ' + base];\n\n            if (href.slice(0, 2) === '//') {\n                return base.replace(/:[\\s\\S]*/, ':') + href;\n            } else if (href.charAt(0) === '/') {\n                return base.replace(/(:\\/*[^/]*)[\\s\\S]*/, '$1') + href;\n            } else {\n                return base + href;\n            }\n        }\n        var baseUrls = {};\n        var originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\n        function noop() {}\n        noop.exec = noop;\n\n        function merge(obj) {\n            var i = 1,\n                target,\n                key;\n\n            for (; i < arguments.length; i++) {\n                target = arguments[i];\n                for (key in target) {\n                    if (Object.prototype.hasOwnProperty.call(target, key)) {\n                        obj[key] = target[key];\n                    }\n                }\n            }\n\n            return obj;\n        }\n\n        function splitCells(tableRow, count) {\n            // ensure that every cell-delimiting pipe has a space\n            // before it to distinguish it from an escaped pipe\n            var row = tableRow.replace(/\\|/g, function (match, offset, str) {\n                var escaped = false,\n                    curr = offset;\n                while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n                if (escaped) {\n                    // odd number of slashes means | is escaped\n                    // so we leave it alone\n                    return '|';\n                } else {\n                    // add space before unescaped |\n                    return ' |';\n                }\n            }),\n                cells = row.split(/ \\|/),\n                i = 0;\n\n            if (cells.length > count) {\n                cells.splice(count);\n            } else {\n                while (cells.length < count) cells.push('');\n            }\n\n            for (; i < cells.length; i++) {\n                // leading or trailing whitespace is ignored per the gfm spec\n                cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n            }\n            return cells;\n        }\n\n        // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n        // /c*$/ is vulnerable to REDOS.\n        // invert: Remove suffix of non-c chars instead. Default falsey.\n        function rtrim(str, c, invert) {\n            if (str.length === 0) {\n                return '';\n            }\n\n            // Length of suffix matching the invert condition.\n            var suffLen = 0;\n\n            // Step left until we fail to match the invert condition.\n            while (suffLen < str.length) {\n                var currChar = str.charAt(str.length - suffLen - 1);\n                if (currChar === c && !invert) {\n                    suffLen++;\n                } else if (currChar !== c && invert) {\n                    suffLen++;\n                } else {\n                    break;\n                }\n            }\n\n            return str.substr(0, str.length - suffLen);\n        }\n\n        function findClosingBracket(str, b) {\n            if (str.indexOf(b[1]) === -1) {\n                return -1;\n            }\n            var level = 0;\n            for (var i = 0; i < str.length; i++) {\n                if (str[i] === '\\\\') {\n                    i++;\n                } else if (str[i] === b[0]) {\n                    level++;\n                } else if (str[i] === b[1]) {\n                    level--;\n                    if (level < 0) {\n                        return i;\n                    }\n                }\n            }\n            return -1;\n        }\n\n        /**\n         * Marked\n         */\n\n        function marked(src, opt, callback) {\n            // throw error in case of non string input\n            if (typeof src === 'undefined' || src === null) {\n                throw new Error('marked(): input parameter is undefined or null');\n            }\n            if (typeof src !== 'string') {\n                throw new Error('marked(): input parameter is of type '\n                    + Object.prototype.toString.call(src) + ', string expected');\n            }\n\n            if (callback || typeof opt === 'function') {\n                if (!callback) {\n                    callback = opt;\n                    opt = null;\n                }\n\n                opt = merge({}, marked.defaults, opt || {});\n\n                var highlight = opt.highlight,\n                    tokens,\n                    pending,\n                    i = 0;\n\n                try {\n                    tokens = Lexer.lex(src, opt);\n                } catch (e) {\n                    return callback(e);\n                }\n\n                pending = tokens.length;\n\n                var done = function(err) {\n                    if (err) {\n                        opt.highlight = highlight;\n                        return callback(err);\n                    }\n\n                    var out;\n\n                    try {\n                        out = Parser.parse(tokens, opt);\n                    } catch (e) {\n                        err = e;\n                    }\n\n                    opt.highlight = highlight;\n\n                    return err\n                        ? callback(err)\n                        : callback(null, out);\n                };\n\n                if (!highlight || highlight.length < 3) {\n                    return done();\n                }\n\n                delete opt.highlight;\n\n                if (!pending) return done();\n\n                for (; i < tokens.length; i++) {\n                    (function(token) {\n                        if (token.type !== 'code') {\n                            return --pending || done();\n                        }\n                        return highlight(token.text, token.lang, function(err, code) {\n                            if (err) return done(err);\n                            if (code == null || code === token.text) {\n                                return --pending || done();\n                            }\n                            token.text = code;\n                            token.escaped = true;\n                            --pending || done();\n                        });\n                    })(tokens[i]);\n                }\n\n                return;\n            }\n            try {\n                if (opt) opt = merge({}, marked.defaults, opt);\n                return Parser.parse(Lexer.lex(src, opt), opt);\n            } catch (e) {\n                e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n                if ((opt || marked.defaults).silent) {\n                    return '<p>An error occurred:</p><pre>'\n                        + escape(e.message + '', true)\n                        + '</pre>';\n                }\n                throw e;\n            }\n        }\n\n        /**\n         * Options\n         */\n\n        marked.options =\n            marked.setOptions = function(opt) {\n                merge(marked.defaults, opt);\n                return marked;\n            };\n\n        marked.getDefaults = function () {\n            return {\n                baseUrl: null,\n                breaks: false,\n                gfm: true,\n                headerIds: true,\n                headerPrefix: '',\n                highlight: null,\n                langPrefix: 'language-',\n                mangle: true,\n                pedantic: false,\n                renderer: new Renderer(),\n                sanitize: false,\n                sanitizer: null,\n                silent: false,\n                smartLists: false,\n                smartypants: false,\n                tables: true,\n                xhtml: false\n            };\n        };\n\n        marked.defaults = marked.getDefaults();\n\n        /**\n         * Expose\n         */\n\n        marked.Parser = Parser;\n        marked.parser = Parser.parse;\n\n        marked.Renderer = Renderer;\n        marked.TextRenderer = TextRenderer;\n\n        marked.Lexer = Lexer;\n        marked.lexer = Lexer.lex;\n\n        marked.InlineLexer = InlineLexer;\n        marked.inlineLexer = InlineLexer.output;\n\n        marked.Slugger = Slugger;\n\n        marked.parse = marked;\n\n        return marked(markdown);\n    }\n}\n\nmodule.exports = MarkdownHelper;\n","'use strict';\n\nconst MediaHelperCommon = require('Common/Helpers/MediaHelper');\n\n/**\n * The client side media helper\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass MediaHelper extends MediaHelperCommon {\n    /**\n     * Gets the Media tree\n     *\n     * @returns {Object} Tree\n     */\n    static async getTree() {\n        return await HashBrown.Helpers.RequestHelper.request('get', 'media/tree');\n    }\n\n    /**\n     * Gets whether the Media provider exists\n     *\n     * @returns {Promise} Promise\n     */\n    static checkMediaProvider() {\n        return HashBrown.Helpers.SettingsHelper.getSettings(HashBrown.Helpers.ProjectHelper.currentProject, HashBrown.Helpers.ProjectHelper.currentEnvironment, 'providers')\n        .then((result) => {\n            if(!result || !result.media) {\n                return Promise.reject(new Error('No Media provider has been set for this project. Please make sure one of your <a href=\"#/connections/\">Connections</a> has the \"is Media provider\" setting switched on.'));\n            }  \n\n            return Promise.resolve();\n        }); \n    }\n    \n    /**\n     * Gets the Media Url\n     */\n    static getMediaUrl(id) {\n        return '/media/' + ProjectHelper.currentProject + '/' + ProjectHelper.currentEnvironment + '/' + id;\n    } \n\n    /**\n     * Gets Media object by id\n     *\n     * @param {String} id\n     *\n     * @return {Promise} Media object\n     */\n    static getMediaById(id) {\n        if(!id) { return Promise.resolve(null); }\n        \n        return HashBrown.Helpers.ResourceHelper.get(HashBrown.Models.Media, 'media', id);\n    }\n    \n    /**\n     * Gets all Media objects\n     *\n     * @return {Promise} Media objects\n     */\n    static getAllMedia(id) {\n        return HashBrown.Helpers.ResourceHelper.getAll(HashBrown.Models.Media, 'media');\n    }\n\n    /**\n     * Sets a Media tree item\n     *\n     * @param {String} id\n     * @param {Object} item\n     *\n     * @returns {Promise} promise\n     */\n    static setTreeItem(id, item) {\n        return HashBrown.Helpers.RequestHelper.request('post', 'media/tree/' + id, item);\n    }\n\n    /**\n     * Initialises the media picker mode\n     *\n     * @param {Function} onPickMedia\n     * @param {Function} onChangeResource\n     */\n    static initMediaPickerMode(onPickMedia, onChangeResource, onError) {\n        // Set the context\n        HashBrown.Context.isMediaPicker = true;\n        \n        // Claim debug messages\n        UI.errorModal = onError;\n        \n        // Listen for picked Media\n        window.addEventListener('hashchange', () => {\n            let isMediaView = location.hash.indexOf('#/media/') === 0;\n\n            if(isMediaView) {\n                let id = location.hash.replace('#/media/', '');\n\n                onPickMedia(id);\n            }\n        }); \n       \n        // Listen for resource change\n        HashBrown.Views.Navigation.NavbarMain.reload = () => {\n            Crisp.View.get('NavbarMain').reload();\n\n            onChangeResource();\n        };\n\n        // Set visual fixes for media picker mode\n        $('.page--environment').addClass('media-picker');\n    }\n}\n\nmodule.exports = MediaHelper;\n","'use strict';\n\n/**\n * A helper for Media objects\n *\n * @memberof HashBrown.Common.Helpers\n */\nclass MediaHelper {\n    /**\n     * Gets the media root path\n     *\n     * @returns {Promise} Path\n     */\n    static getRootPath() {\n        return ConnectionHelper.getMediaProvider()\n        .then((connection) => {\n            resolve(connection.getMediaPath());   \n        })\n        .catch(() => {\n            resolve('');  \n        });\n    }\n\n    /**\n     * Gets the Media tree\n     *\n     * @returns {Promise(Object)} tree\n     */\n    static getTree() {\n        return Promise.resolve({});\n    }\n    \n    /**\n     * Sets a Media tree item\n     *\n     * @param {String} id\n     * @param {Object} item\n     *\n     * @returns {Promise} promise\n     */\n    static setTreeItem(id, item) {\n        return Promise.resolve();\n    }\n\n    /**\n     * Gets the media temp path\n     *\n     * @param {String} project\n     *\n     * @returns {String} Path\n     */\n    static getTempPath(project) {\n        checkParam(project, 'project', String);\n\n        let path = \n            '/storage/' +\n            ProjectHelper.currentProject +\n            '/temp';\n\n        return path;\n    }\n}\n\nmodule.exports = MediaHelper;\n","'use strict';\n\n/**\n * A helper class for managing projects client side\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass ProjectHelper {\n    /**\n     * Gets the current project id\n     *\n     * @return {String} Project id\n     */\n    static get currentProject() {\n        let parts = location.pathname.substring(1).split('/');\n\n        if(parts.indexOf('dashboard') > -1) { return null; }\n\n        return parts[0];\n    }\n    \n    /**\n     * Gets the current environment name\n     *\n     * @return {String} Environment name\n     */\n    static get currentEnvironment() {\n        let parts = location.pathname.substring(1).split('/');\n\n        if(parts.indexOf('dashboard') > -1) { return null; }\n\n        return parts[1];\n    }\n}\n\nmodule.exports = ProjectHelper;\n","'use strict';\n\n/**\n * A helper class for making HTTP/S requests\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass RequestHelper {\n    /**\n     * An environment specific request\n     *\n     * @param {String} method\n     * @param {String} url\n     * @param {Object} data\n     *\n     * @returns {Promise} Response\n     */\n    static request(method, url, data) {\n        return RequestHelper.customRequest(method, RequestHelper.environmentUrl(url), data);\n    }\n\n    /**\n     * Uploads a file\n     *\n     * @param {String} url\n     * @param {String} type\n     * @param {FormData} data\n     *\n     * @returns {Promise} Response\n     */\n    static uploadFile(url, type, data) {\n        return new Promise((resolve, reject) => {\n            $.ajax({\n                url: RequestHelper.environmentUrl(url),\n                type: 'POST',\n                data: data,\n                processData: false,\n                contentType: false,\n                success: (response) => {\n                    resolve(response);\n                },\n                error: (e) => {\n                    reject(e);            \n                }\n            })\n        });\n        //return RequestHelper.customRequest('POST', RequestHelper.environmentUrl(url), data, { 'Content-Type': type });\n    }\n\n    /**\n     * An environment-independent request\n     *\n     * @param {String} method\n     * @param {String} url\n     * @param {Object} data\n     * @param {Object} headers\n     *\n     * @returns {Promise} Response\n     */\n    static customRequest(method, url, data, headers) {\n        headers = headers || {\n            'Content-Type': 'application/json; charset=utf-8'\n        };\n\n        return new Promise((resolve, reject) => {\n            var xhr = new XMLHttpRequest();\n            xhr.open(method.toUpperCase(), url);\n\n            for(let k in headers) {\n                xhr.setRequestHeader(k, headers[k]);\n            }\n\n            if(data) {\n                if(typeof data === 'object' && data instanceof FormData === false) {\n                    data = JSON.stringify(data);\n                }\n               \n                xhr.send(data);\n\n            } else {\n                xhr.send();\n            \n            }\n\n            xhr.onreadystatechange = () => {\n                const DONE = 4;\n                const OK = 200;\n                const NOT_MODIFIED = 304;\n                const UNAUTHORIZED = 403;\n\n                if(xhr.readyState === DONE) {\n                    if(xhr.status === UNAUTHORIZED) {\n                        location = '/login/?path=' + location.pathname + location.hash;\n\n                        reject(new Error('User is not logged in'));\n\n                    } else if(xhr.status == OK || xhr.status == NOT_MODIFIED) {\n                        let response = xhr.responseText;\n\n                        if(response && response != 'OK') {\n                            try {\n                                response = JSON.parse(response);\n                            \n                            } catch(e) {\n                                // If the response isn't JSON, then so be it\n\n                            }\n                        }\n\n                        if(response === '') { response = null; }\n\n                        resolve(response);\n\n                    } else {\n                        let error = new Error(xhr.responseText);\n\n                        error.statusCode = xhr.status;\n\n                        reject(error);\n                    \n                    }\n                }\n            }\n        });\n    }\n\n    /**\n     * Wraps a URL to include environment\n     *\n     * @param {String} url\n     */\n    static environmentUrl(url) {\n        let newUrl = '/api/';\n\n        if(HashBrown.Helpers.ProjectHelper.currentProject) {\n            newUrl += HashBrown.Helpers.ProjectHelper.currentProject + '/';\n        }\n\n        if(HashBrown.Helpers.ProjectHelper.currentEnvironment) {\n            newUrl += HashBrown.Helpers.ProjectHelper.currentEnvironment + '/';\n        }\n\n        newUrl += url;\n\n        return newUrl;\n    }\n\n    /**\n     * Listens for server restart\n     */\n    static listenForRestart() {\n        UI.messageModal('Restart', 'HashBrown is restarting...', false);\n\n        function poke() {\n            $.ajax({\n                type: 'get',\n                url: '/',\n                success: () => {\n                    location.reload();\n                },\n                error: () => {\n                    poke();\n                }\n            });\n        }\n\n        poke();\n    };\n}\n\nmodule.exports = RequestHelper;\n","'use strict';\n\n/**\n * A helper class for accessing resources on the server\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass ResourceHelper {\n    /**\n     * Clears the indexedDB\n     *\n     * @return {Promise} Result\n     */\n    static clearIndexedDb() {\n        return new Promise((resolve, reject) => {\n            try {\n                let request = indexedDB.deleteDatabase('hb_' + HashBrown.Context.projectId + '_' + HashBrown.Context.environment);\n\n                request.onsuccess = (e) => {\n                    resolve(e.target.result);\n                };\n                \n                request.onerror = (e) => {\n                    reject(e);\n                };\n\n            } catch(e) {\n                reject(e);\n\n            }\n        });\n    }\n    \n    /**\n     * Opens a connection to the indexedDB\n     *\n     * @param {String} action\n     * @param {String} store\n     * @param {Object} query\n     *\n     * @return {Promise} Result\n     */\n    static indexedDbTransaction(action, store, id = null, data = null) {\n        checkParam(action, 'action', String);\n        checkParam(store, 'store', String);\n        checkParam(id, 'id', String);\n        checkParam(data, 'data', Object);\n\n        return new Promise((resolve, reject) => {\n            try {\n                let request = indexedDB.open('hb_' + HashBrown.Helpers.ProjectHelper.currentProject + '_' + HashBrown.Helpers.ProjectHelper.currentEnvironment, 1);\n\n                request.onsuccess = (e) => {\n                    resolve(e.target.result);\n                };\n                \n                request.onerror = (e) => {\n                    reject(new Error('Query ' + JSON.stringify(query) + ' with action \"' + action + '\" for store \"' + store + '\" failed. Error code: ' + e.target.errorCode));\n                };\n\n                request.onupgradeneeded = (e) => {\n                    let db = e.target.result;\n                    \n                    db.createObjectStore('connections', { keyPath: 'id', autoIncrement: false });\n                    db.createObjectStore('content', { keyPath: 'id', autoIncrement: false });\n                    db.createObjectStore('schemas', { keyPath: 'id', autoIncrement: false });\n                    db.createObjectStore('media', { keyPath: 'id', autoIncrement: false });\n                    db.createObjectStore('forms', { keyPath: 'id', autoIncrement: false });\n                    db.createObjectStore('users', { keyPath: 'id', autoIncrement: false });\n                };\n\n            } catch(e) {\n                reject(e);\n\n            }\n        })\n        .then((db) => {\n            return new Promise((resolve, reject) => {\n                try {\n                    let objectStore = db.transaction([store], 'readwrite').objectStore(store);\n                    let request = null;\n\n                    if(action === 'put') {\n                        data.id = id;\n                        request = objectStore.put(data);\n                    } else if(action === 'get') {\n                        request = objectStore.get(id);\n                    } else if(action === 'getAll') {\n                        request = objectStore.getAll();\n                    } else if(action === 'delete') {\n                        request = objectStore.delete(id);\n                    } else if(action === 'clear') {\n                        request = objectStore.clear();\n                    }\n\n                    request.onsuccess = (e) => {\n                        resolve(e.target.result);\n                    };\n                    \n                    request.onerror = (e) => {\n                        reject(new Error('Query ' + JSON.stringify(query) + ' with action \"' + action + '\" for store \"' + store + '\" failed. Error code: ' + e.target.errorCode));\n                    };\n\n                } catch(e) {\n                    reject(e);\n\n                }\n            });\n        });\n    }\n\n    /**\n     * Preloads all resources\n     */\n    static async preloadAllResources() {\n        try {\n            $('.page--environment__spinner').toggleClass('hidden', false); \n            $('.page--environment__spinner__messages').empty();\n\n            await this.clearIndexedDb();\n\n            for(let resourceName of this.getResourceNames()) {\n                let $msg = _.div({class: 'widget--spinner__message', 'data-name': resourceName}, resourceName);\n                \n                $('.page--environment__spinner__messages').append($msg);\n            }\n            \n            for(let resourceName of this.getResourceNames()) {\n                await this.getAll(null, resourceName);\n                \n                $('.page--environment__spinner__messages [data-name=\"' + resourceName + '\"]').toggleClass('loaded', true);\n            }\n           \n            $('.page--environment__spinner').toggleClass('hidden', true);\n\n            HashBrown.Helpers.EventHelper.trigger('resource');  \n\n        } catch(e) {\n            UI.errorModal(e);\n\n        }\n    }\n\n    /**\n     * Gets a list of all resource names\n     *\n     * @return {Array} Names\n     */\n    static getResourceNames() {\n        return ['content', 'connections', 'forms', 'media', 'schemas', 'users'];\n    }\n   \n    /**\n     * Reloads a resource category\n     *\n     * @param {String} cateogry\n     */\n    static async reloadResource(category) {\n        checkParam(category, 'category', String, true);\n\n        try {\n            await this.indexedDbTransaction('clear', category);\n\n            await this.getAll(null, category);\n\n            HashBrown.Helpers.EventHelper.trigger('resource');  \n\n        } catch(e) {\n            UI.errorModal(e);\n\n        }\n    }\n\n    /**\n     * Removes a resource\n     *\n     * @param {String} category\n     * @param {String} id\n     */\n    static async remove(category, id) {\n        checkParam(category, 'category', String, true);\n        checkParam(id, 'id', String, true);\n\n        try {\n            await this.indexedDbTransaction('delete', category, id);\n\n            await HashBrown.Helpers.RequestHelper.request('delete', category + '/' + id);\n            \n            HashBrown.Helpers.EventHelper.trigger('resource');  \n\n        } catch(e) {\n            UI.errorModal(e);\n\n        }\n    }\n    \n    /**\n     * Gets a list of resources\n     *\n     * @param {HashBrown.Models.Resource} model\n     * @param {String} category\n     *\n     * @returns {Array} Result\n     */\n    static async getAll(model, category) {\n        checkParam(model, 'model', HashBrown.Models.Resource);\n        checkParam(category, 'category', String);\n\n        try {\n            let results = await this.indexedDbTransaction('getAll', category);\n\n            if(!results || results.length < 2) {\n                results = await HashBrown.Helpers.RequestHelper.request('get', category);\n                \n                if(!results) { throw new Error('Resource list ' + category + ' not found'); }\n           \n                for(let result of results) {\n                    if(!result.id) { continue; }\n\n                    await this.indexedDbTransaction('put', category, result.id, result);\n                }\n            }\n                \n            if(typeof model === 'function') {\n                for(let i in results) {\n                    results[i] = new model(results[i]);\n                }\n            }\n\n            return results;\n\n        } catch(e) {\n            UI.errorModal(e);\n\n        }\n    }\n    \n    /**\n     * Pulls a synced resource\n     *\n     * @param {String} category\n     * @param {String} id\n     */\n    static async pull(category, id) {\n        checkParam(category, 'category', String, true);\n        checkParam(id, 'id', String, true);\n\n        try {\n            await HashBrown.Helpers.RequestHelper.request('post', category + '/pull/' + id);\n        \n            await this.reloadResource(category);\n        \n        } catch(e) {\n            UI.errorModal(e);\n\n        }\n    }\n    \n    /**\n     * Pushes a synced resource\n     *\n     * @param {String} category\n     * @param {String} id\n     */\n    static async push(category, id) {\n        checkParam(category, 'category', String, true);\n        checkParam(id, 'id', String, true);\n\n        try {\n            await HashBrown.Helpers.RequestHelper.request('post', category + '/push/' + id);\n        \n            await this.reloadResource(category);\n\n            HashBrown.Helpers.EventHelper.trigger('resource');  \n        \n        } catch(e) {\n            UI.errorModal(e);\n\n        }\n    }\n\n    /**\n     * Gets a resource\n     *\n     * @param {HashBrown.Models.Resource} model\n     * @param {String} category\n     * @param {String} id\n     *\n     * @returns {HashBrown.Models.Resource} Result\n     */\n    static async get(model, category, id) {\n        checkParam(model, 'model', HashBrown.Models.Resource);\n        checkParam(category, 'category', String, true);\n        checkParam(id, 'id', String, true);\n\n        try {\n            let result = await this.indexedDbTransaction('get', category, id);\n\n            if(!result) {\n                result = await HashBrown.Helpers.RequestHelper.request('get', category + '/' + id);\n                \n                if(!result) { throw new Error('Resource ' + category + '/' + id + ' not found'); }\n            \n                await this.indexedDbTransaction('put', category, id, result);\n            }\n\n            if(typeof model === 'function') {\n                result = new model(result);\n            }\n\n            return result;\n        \n        } catch(e) {\n            UI.errorModal(e);\n\n        }\n    }\n    \n    /**\n     * Sets a resource\n     *\n     * @param {String} category\n     * @param {String} id\n     * @param {Resource} data\n     *\n     * @returns {Promise} Result\n     */\n    static async set(category, id, data) {\n        checkParam(category, 'category', String, true);\n        checkParam(id, 'id', String, true);\n        checkParam(data, 'data', Object, true);\n\n        if(data instanceof HashBrown.Models.Resource) {\n            data = data.getObject();\n        }\n\n        try {\n            await this.indexedDbTransaction('put', category, id, data);\n\n            await HashBrown.Helpers.RequestHelper.request('post', category + '/' + id, data);\n        \n            HashBrown.Helpers.EventHelper.trigger('resource');  \n        \n        } catch(e) {\n            UI.errorModal(e);\n        \n        }\n    }\n    \n    /**\n     * Creates a new resource\n     *\n     * @param {String} category\n     * @param {Resource} model\n     * @param {String} query\n     *\n     * @returns {Resource} Result\n     */\n    static async new(model, category, query = '') {\n        checkParam(model, 'model', HashBrown.Models.Resource);\n        checkParam(category, 'category', String, true);\n        checkParam(query, 'query', String);\n\n        try {\n            let resource = await HashBrown.Helpers.RequestHelper.request('post', category + '/new' + query);\n        \n            await this.indexedDbTransaction('put', category, resource.id, resource);\n\n            HashBrown.Helpers.EventHelper.trigger('resource');  \n\n            if(model) {\n                resource = new model(resource);\n            }\n\n            return resource;\n        \n        } catch(e) {\n            UI.errorModal(e);\n        \n        }\n    }\n}\n\nmodule.exports = ResourceHelper;\n","'use strict';\n\nconst SchemaHelperCommon = require('Common/Helpers/SchemaHelper');\n\n/**\n * The client side Schema helper\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass SchemaHelper extends SchemaHelperCommon {\n    /**\n     * Gets a Schema by id\n     *\n     * @param {String} id\n     * @param {Boolean} withParentFields\n     *\n     * @return {Schema} Schema\n     */\n    static async getSchemaById(id, withParentFields = false) {\n        checkParam(id, 'id', String, true);\n        checkParam(withParentFields, 'withParentFields', Boolean, true);\n\n        let schema = await HashBrown.Helpers.ResourceHelper.get(null, 'schemas', id);\n       \n        // Get parent fields if specified\n        if(withParentFields && schema.parentSchemaId) {\n            let childSchema = this.getModel(schema);\n            let mergedSchema = childSchema;\n\n            while(childSchema.parentSchemaId) {\n                let parentSchema = await this.getSchemaById(childSchema.parentSchemaId);\n                \n                mergedSchema = this.mergeSchemas(mergedSchema, parentSchema);\n\n                childSchema = parentSchema;\n            }\n\n            return mergedSchema;\n        }\n        \n        return this.getModel(schema);\n    }\n    \n    /**\n     * Gets all Schemas\n     *\n     * @param {String} type\n     *\n     * @returns {Array} All Schemas\n     */\n    static async getAllSchemas(type = null) {\n        let results = await HashBrown.Helpers.ResourceHelper.getAll(null, 'schemas');\n\n        let schemas = [];\n\n        for(let schema of results) {\n            if(type && schema.type !== type) { continue; }\n\n            if(schema.type === 'content') {\n                schema = new HashBrown.Models.ContentSchema(schema);\n            } else if(schema.type === 'field') {\n                schema = new HashBrown.Models.FieldSchema(schema);\n            }\n\n            schemas.push(schema);\n        }\n\n        return schemas;\n    }\n}\n\nmodule.exports = SchemaHelper;\n","'use strict';\n\n/**\n * The common base for SchemaHelper\n *\n * @memberof HashBrown.Common.Helpers\n */\nclass SchemaHelper {\n    /**\n     * Gets the appropriate model\n     *\n     * @param {Object} properties\n     *\n     * @return {Schema} Schema\n     */\n    static getModel(properties) {\n        if(!properties) { return null; }\n\n        // If the properties object is already a recognised model, return it\n        if(properties instanceof HashBrown.Models.ContentSchema || properties instanceof HashBrown.Models.FieldSchema) {\n            return properties;\n        }\n\n        // If the properties object is using an unrecognised model, serialise it\n        if(typeof properties.getObject === 'function') {\n            properties = properties.getObject();\n        }\n\n        if(properties.type === 'content') {\n            return new HashBrown.Models.ContentSchema(properties);\n        } else if(properties.type === 'field') {\n            return new HashBrown.Models.FieldSchema(properties);\n        }\n\n        throw new Error('Schema data is incorrectly formatted: ' + JSON.stringify(properties));\n    }\n    \n    /**\n     * Merges two Schemas\n     *\n     * @param Schema childSchema\n     * @param Schema parentSchema\n     *\n     * @returns {Schema} Merged Schema\n     */\n    static mergeSchemas(childSchema, parentSchema) {\n        checkParam(childSchema, 'childSchema', HashBrown.Models.Schema);\n        checkParam(parentSchema, 'parentSchema', HashBrown.Models.Schema);\n\n        childSchema = childSchema.getObject();\n        parentSchema = parentSchema.getObject();\n\n        let mergedSchema = parentSchema;\n\n        // Recursive merge\n        function merge(parentValues, childValues) {\n            for(let k in childValues) {\n                if(typeof parentValues[k] === 'object' && typeof childValues[k] === 'object') {\n                    merge(parentValues[k], childValues[k]);\n                \n                } else if(childValues[k]) {\n                    parentValues[k] = childValues[k];\n                \n                }\n            }\n        }\n\n        // Overwrite common values \n        mergedSchema.id = childSchema.id;\n        mergedSchema.name = childSchema.name;\n        mergedSchema.parentSchemaId = childSchema.parentSchemaId;\n        mergedSchema.icon = childSchema.icon || mergedSchema.icon;\n        \n        // Specific values for schema types\n        switch(mergedSchema.type) {\n            case 'field':\n                mergedSchema.editorId = childSchema.editorId || mergedSchema.editorId;\n                \n                // Merge config\n                if(!mergedSchema.config) { mergedSchema.config = {}; }\n                if(!parentSchema.config) { parentSchema.config = {}; }\n\n                merge(mergedSchema.config, childSchema.config);\n                break;\n\n            case 'content':\n                // Merge tabs\n                if(!mergedSchema.tabs) { mergedSchema.tabs = {}; }\n                if(!childSchema.tabs) { childSchema.tabs = {}; }\n               \n                merge(mergedSchema.tabs, childSchema.tabs);\n\n                // Merge fields\n                if(!mergedSchema.fields) { mergedSchema.fields = {}; }\n                if(!mergedSchema.fields.properties) { mergedSchema.fields.properties = {}; }\n                if(!childSchema.fields) { childSchema.fields = {}; }\n                if(!childSchema.fields.properties) { childSchema.fields.properties = {}; }\n\n                merge(mergedSchema.fields, childSchema.fields);\n       \n                // Set default tab id\n                mergedSchema.defaultTabId = childSchema.defaultTabId || mergedSchema.defaultTabId;\n                break;\n        }\n\n        return this.getModel(mergedSchema);\n    }\n}\n\nmodule.exports = SchemaHelper;\n","'use strict';\n\nconst SettingsHelperCommon = require('Common/Helpers/SettingsHelper');\n\n/**\n * The client side settings helper\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass SettingsHelper extends SettingsHelperCommon {\n    /**\n     * Gets all settings\n     *\n     * @param {String} project\n     * @param {String} environment\n     * @param {String} section\n     *\n     * @return {Promise(Object)}  settings\n     */\n    static getSettings(project, environment = null, section = null) {\n        checkParam(project, 'project', String);\n\n        if(environment === '*') { environment = null; }\n\n        let apiUrl = '/api/' + project + '/';\n\n        if(environment) {\n            apiUrl += environment + '/'; \n        }\n       \n        apiUrl += 'settings';\n\n        if(section) {\n            apiUrl += '/' + section;\n        }\n\n        return HashBrown.Helpers.RequestHelper.customRequest('get', apiUrl);\n    }\n   \n    /**\n     * Sets all settings\n     *\n     * @param {String} project\n     * @param {String} environment\n     * @param {String} section\n     * @param {Object} settings\n     *\n     * @return {Promise} promise\n     */\n    static setSettings(project, environment = null, section = null, settings) {\n        checkParam(project, 'project', String);\n        checkParam(settings, 'settings', Object);\n\n        if(environment === '*') { environment = null; }\n\n        let apiUrl = '/api/' + project + '/';\n\n        settings.usedBy = 'project';\n\n        if(environment) {\n            apiUrl += environment + '/'; \n\n            settings.usedBy = environment;\n        }\n       \n        apiUrl += 'settings';\n\n        if(section) {\n            apiUrl += '/' + section;\n        }\n\n        return HashBrown.Helpers.RequestHelper.customRequest('post', apiUrl, settings);\n    }\n}\n\nmodule.exports = SettingsHelper;\n","'use strict';\n\n/**\n * A helper for settings\n *\n * @memberof HashBrown.Common.Helpers\n */\nclass SettingsHelper {\n}\n\nmodule.exports = SettingsHelper;\n","'use strict';\n\n/**\n * A UI helper for creating and handling common interface behaviours\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass UIHelper {\n    /**\n     * Renders a spinner\n     *\n     * @param {HTMLElement} element\n     * @param {Boolean} noBackground\n     *\n     * @return {HTMLElement} Spinner\n     */\n    static spinner(element = null, noBackground = false) {\n        let spinner = _.div({class: 'widget widget--spinner ' + (element ? 'embedded ' : '' ) + (noBackground ? 'no-background' : '')},\n            _.div({class: 'widget--spinner__inner'},\n                _.div({class: 'widget--spinner__image fa fa-refresh'})\n            )\n        );\n\n        if(element) {\n            _.append(element, spinner);\n        } else {\n            _.append(document.body, spinner);\n        }\n\n        return spinner;\n    }\n    \n    /**\n     * Highlights an element with an optional label\n     *\n     * @param {Boolean|HTMLElement} element\n     * @param {String} label\n     * @param {String} direction\n     * @param {String} buttonLabel\n     *\n     * @return {Promise} Callback on dismiss\n     */\n    static highlight(element, label, direction = 'right', buttonLabel) {\n        if(element === false) {\n            $('.widget--highlight').remove();\n\n            return;\n        }\n\n        if(typeof element === 'string') {\n            element = document.querySelector(element);\n        }\n\n        if(!element) { return Promise.resolve(); }\n\n        return new Promise((resolve) => {\n            let dismiss = () => {\n                $highlight.remove();\n\n                resolve(element);\n            };\n            \n            let $highlight = _.div({class: 'widget--highlight' + (label ? ' ' + direction : ''), style: 'top: ' + element.offsetTop + 'px; left: ' + element.offsetLeft + 'px;'},\n                _.div({class: 'widget--highlight__backdrop'}),\n                _.div({class: 'widget--highlight__frame', style: 'width: ' + element.offsetWidth + 'px; height: ' + element.offsetHeight + 'px;'}),\n                _.if(label,\n                    _.div({class: 'widget--highlight__label'},\n                        _.div({class: 'widget--highlight__label__text'}, label),\n                        _.if(buttonLabel,\n                            _.button({class: 'widget widget--button widget--highlight__button condensed'}, buttonLabel)\n                                .click(() => {\n                                    dismiss();\n                                })\n                        )\n                    )\n                )\n            ).click(() => {\n                if(buttonLabel) { return; }\n\n                dismiss();\n            });\n            \n            _.append(element.parentElement, $highlight);\n        });\n    }\n\n    /**\n     * Sets the content of the editor space\n     *\n     * @param {Array|HTMLElement} content\n     * @param {String} className\n     */\n    static setEditorSpaceContent(content, className) {\n        let $space = $('.page--environment__space--editor');\n\n        if(className) {\n            content = _.div({class: 'page--environment__space--editor__' + className}, content);\n        }\n\n        _.append($space.empty(), content);\n    }\n\n    /**\n     * Creates a sortable context specific to arrays using editor fields\n     *\n     * @param {Array} array\n     * @param {HTMLElement} field\n     * @param {Function} onChange\n     */\n    static fieldSortableArray(array, field, onChange) {\n        array = array || [];\n\n        // Set indices on all elements\n        let items = field.querySelector('.editor__field__value').children;\n\n        for(let i = 0; i < items.length; i++) {\n            if(items[i] instanceof HTMLElement === false || !items[i].classList.contains('editor__field')) { continue; }\n\n            items[i].dataset.index = i;\n        }\n\n        // Init the sortable context\n        this.fieldSortable(field, (element) => {\n            if(!element) { return; }\n\n            let oldIndex = element.dataset.index;\n            let newIndex = 0;\n\n            // Discover new index\n            let items = field.querySelector('.editor__field__value').children;\n\n            for(let i = 0; i < items.length; i++) {\n                if(items[i] === element) {\n                    newIndex = i;\n                    break;\n                }\n            }\n\n            // Swap indices\n            array.splice(newIndex, 0, array.splice(oldIndex, 1)[0])\n\n            onChange(array);\n        });\n    }\n\n    /**\n     * Creates a sortable context specific to objects using editor fields\n     *\n     * @param {Object} object\n     * @param {HTMLElement} field\n     * @param {Function} onChange\n     */\n    static fieldSortableObject(object, field, onChange) {\n        object = object || {};\n\n        this.fieldSortable(field, (element) => {\n            if(!element) { return; }\n\n            let itemSortKeyElement = element.querySelector('.editor__field__sort-key');\n            let itemKey = itemSortKeyElement.value || itemSortKeyElement.innerHTML;\n            let itemValue = object[itemKey];\n\n            // Try to get the next key\n            let nextKey = '';\n            let nextSortKeyElement = element.nextElementSibling ? element.nextElementSibling.querySelector('.editor__field__sort-key') : null;\n\n            if(nextSortKeyElement) {\n                nextKey = nextSortKeyElement.value || nextSortKeyElement.innerHTML;\n            }\n\n            // Construct a new object based on the old one\n            let newObject = {};\n\n            for(let fieldKey in object) {\n                // Omit existing key\n                if(fieldKey === itemKey) { continue; }\n\n                let fieldValue = object[fieldKey];\n\n                // If there is a next key, and it's the same as this field key,\n                // the sorted item should be inserted just before it\n                if(nextKey === fieldKey) {\n                    newObject[itemKey] = itemValue;\n                }\n\n                newObject[fieldKey] = fieldValue;\n            }\n\n            // If the item wasn't reinserted, insert it now\n            if(!newObject[itemKey]) {\n                newObject[itemKey] = itemValue;\n            }\n\n            // Assign the new object to the old one\n            object = newObject;\n\n            // Fire the change event\n            onChange(newObject);\n        });\n    }\n\n    /**\n     * Creates a sortable context specific to fields\n     *\n     * @param {HTMLElement} field\n     * @param {Function} onChange\n     */\n    static fieldSortable(field, onChange) {\n        let btnSort = field.querySelector('.editor__field__key__action--sort');\n        let divValue = field.querySelector('.editor__field__value');\n        let isSorting = !divValue.classList.contains('sorting');\n\n        if(this.sortable(divValue, 'editor__field', isSorting, onChange)) {\n            btnSort.classList.toggle('sorting', isSorting);\n            divValue.classList.toggle('sorting', isSorting);\n        }\n    }\n\n    /**\n     * Creates a sortable context\n     *\n     * @param {HTMLElement} parentElement\n     * @param {String} sortableClassName\n     * @param {Boolean} isActive\n     * @param {Function} onChange\n     *\n     * @returns {Boolean} Whether or not sorting was initialised\n     */\n    static sortable(parentElement, sortableClassName, isActive, onChange) {\n        let children = Array.prototype.slice.call(parentElement.children || []);\n        let canSort = true;\n        let currentDraggedChild;\n        \n        children = children.filter((child) => {\n            return child instanceof HTMLElement && child.classList.contains(sortableClassName);\n        });\n\n        if(!children || children.length < 1) { return false; }\n\n        if(typeof isActive === 'undefined') {\n            isActive = !parentElement.classList.contains('sorting');\n        }\n\n        if(isActive) {\n            parentElement.ondragover = (e) => {\n                if(!canSort || !currentDraggedChild) { return; }\n\n                let bodyRect = document.body.getBoundingClientRect();\n\n                _.each(children, (i, sibling) => {\n                    if(sibling === currentDraggedChild || !canSort || e.pageY < 1) { return; }\n\n                    let cursorY = e.pageY;\n                    let childY = currentDraggedChild.getBoundingClientRect().y - bodyRect.y;\n                    let siblingY = sibling.getBoundingClientRect().y - bodyRect.y;\n                    let hasMoved = false;\n\n                    // Dragging above a sibling\n                    if(cursorY < siblingY && childY > siblingY) {\n                        sibling.parentElement.insertBefore(currentDraggedChild, sibling);    \n                        hasMoved = true;\n                    }\n\n                    // Dragging below a sibling\n                    if(cursorY > siblingY && childY < siblingY) {\n                        sibling.parentElement.insertBefore(currentDraggedChild, sibling.nextElementSibling);\n                        hasMoved = true;\n                    }\n\n                    // Init transition\n                    if(hasMoved) {\n                        canSort = false;\n\n                        let newChildY = currentDraggedChild.getBoundingClientRect().y - document.body.getBoundingClientRect().y;\n                        let newSiblingY = sibling.getBoundingClientRect().y - document.body.getBoundingClientRect().y;\n\n                        currentDraggedChild.style.transform = 'translateY(' + (childY - newChildY) + 'px)';\n                        sibling.style.transform = 'translateY(' + (siblingY - newSiblingY) + 'px)';\n\n                        setTimeout(() => {\n                            currentDraggedChild.removeAttribute('style');\n                            sibling.removeAttribute('style');\n                            canSort = true;\n                        }, 100);\n                    }\n                });\n            };\n\n        } else {\n            parentElement.ondragover = null;\n\n        }\n\n        _.each(children, (i, child) => {\n            child.draggable = isActive;\n\n            if(isActive) {\n                child.ondragstart = (e) => {\n                    e.dataTransfer.setData('text/plain', '');\n                    child.classList.toggle('dragging', true);\n                    currentDraggedChild = child;\n                };\n                \n                child.ondragend = (e) => {\n                    onChange(child);\n                    currentDraggedChild = null;\n                    child.classList.toggle('dragging', false);\n                };\n\n                child.ondragcancel = (e) => {\n                    onChange(child);\n                    currentDraggedChild = null;\n                    child.classList.toggle('dragging', false);\n                };\n\n            } else {\n                child.classList.toggle('dragging', false);\n                child.ondragstart = null;\n                child.ondrag = null;\n                child.ondragstop = null;\n                child.ondragcancel = null;\n                currentDraggedChild = null;\n            }\n        });\n        \n        parentElement.classList.toggle('sorting', isActive);\n\n        return true;\n    }\n\n\n    /**\n     * Creates a switch\n     *\n     * @param {Boolean} initialValue\n     * @param {Function} onChange\n     *\n     * @returns {HTMLElement} Switch element\n     */\n    static inputSwitch(initialValue, onChange) {\n        let id = 'switch-' + (10000 + Math.floor(Math.random() * 10000));\n        let $input;\n\n        let $element = _.div({class: 'switch', 'data-checked': initialValue},\n            $input = _.input({\n                id: id,\n                class: 'form-control switch',\n                type: 'checkbox'\n            }).change(function() {\n                this.parentElement.dataset.checked = this.checked;\n\n                if(onChange) {\n                    onChange(this.checked);\n                }\n            }),\n            _.label({for: id})\n        );\n\n        $element.on('set', (e, newValue) => {\n            $input[0].checked = newValue;\n        });\n\n        if(initialValue) {\n            $input.attr('checked', true);\n        }\n\n        return $element;\n    }\n\n    /**\n     * Creates a group of chips\n     *\n     * @param {Array} items\n     * @param {Array} dropdownItems\n     * @param {Function} onChange\n     * @param {Boolean} isDropdownUnique\n     *\n     * @returns {HtmlElement} Chip group element\n     */\n    static inputChipGroup(items, dropdownItems, onChange, isDropdownUnique) {\n        let $element = _.div({class: 'chip-group'});\n\n        if(!items) { items = []; }\n\n        function render() {\n            _.append($element.empty(),\n\n                // Render individual chips\n                _.each(items, (itemIndex, item) => {\n                    let label = item.label || item.name || item.title;\n                    \n                    if(!label) {\n                        for(let dropdownItem of dropdownItems) {\n                            let value = dropdownItem.id || dropdownItem.value || dropdownItem;\n\n                            if(value === item) {\n                                label = dropdownItem.label || dropdownItem.name || dropdownItem.title || dropdownItem;\n                            }\n                        }\n                    }\n\n                    if(!label) { \n                        label = item;\n                    }\n\n                    let $chip = _.div({class: 'chip'},\n\n                        // Dropdown\n                        _.if(Array.isArray(dropdownItems),\n                            _.div({class: 'chip-label dropdown'},\n                                _.button({class: 'dropdown-toggle', 'data-toggle': 'dropdown'},\n                                    label\n                                ),\n                                _.if(onChange,\n                                    _.ul({class: 'dropdown-menu'},\n                                        _.each(dropdownItems, (dropdownItemIndex, dropdownItem) => {\n                                            // Look for unique dropdown items\n                                            if(isDropdownUnique) {\n                                                for(let item of items) {\n                                                    if(item == dropdownItem) {\n                                                        return;\n                                                    }\n                                                }\n                                            }\n\n                                            return _.li(\n                                                _.a({href: '#'},\n                                                    dropdownItem.label || dropdownItem.name || dropdownItem.title || dropdownItem\n                                                ).click(function(e) {\n                                                    e.preventDefault();\n                                                        \n                                                    items[itemIndex] = dropdownItem.value || dropdownItem.id || dropdownItem;\n\n                                                    render();\n                                \n                                                    if(typeof onChange === 'function') {\n                                                        onChange(items);\n                                                    }\n                                                })\n                                            );\n                                        })\n                                    )\n                                )\n                            )\n                        ),\n\n                        // Regular string\n                        _.if(!Array.isArray(dropdownItems),\n                            _.if(!onChange,\n                                _.p({class: 'chip-label'}, item)\n                            ),\n                            _.if(onChange,\n                                _.input({type: 'text', class: 'chip-label', value: item})\n                                    .change((e) => {\n                                        items[itemIndex] = e.target.value;\n                                    })\n                            )\n                        ),\n\n                        // Remove button\n                        _.if(onChange,\n                            _.button({class: 'btn chip-remove'},\n                                _.span({class: 'fa fa-remove'})\n                            ).click(() => {\n                                items.splice(itemIndex, 1);\n\n                                render();\n\n                                if(typeof onChange === 'function') {\n                                    onChange(items);\n                                }\n                            })\n                        )\n                    );\n                    \n                    return $chip;\n                }),\n\n                // Add button\n                _.if(onChange,\n                    _.button({class: 'btn chip-add'},\n                        _.span({class: 'fa fa-plus'})\n                    ).click(() => {\n                        if(Array.isArray(dropdownItems)) {\n                            if(isDropdownUnique) {\n                                for(let dropdownItem of dropdownItems) {\n                                    let isSelected = false;\n\n                                    for(let item of items) {\n                                        if(item == dropdownItem) {\n                                            isSelected = true;\n                                            break;\n                                        }\n                                    }\n\n                                    if(!isSelected) {\n                                        items.push(dropdownItem.value || dropdownItem);\n                                        break;\n                                    }\n                                }\n                            } else {\n                                items.push(dropdownItems[0].value || dropdownItems[0]);\n                            }\n                        \n                        } else if(typeof dropdownItems === 'string') {\n                            items.push(dropdownItems);\n\n                        } else {\n                            items.push('New item');\n\n                        }\n\n                        render(); \n\n                        if(typeof onChange === 'function') {\n                            onChange(items);\n                        }\n                    })\n                )\n            );\n        };\n\n        render();\n\n        return $element;\n    }\n    \n    /**\n     * Renders a carousel\n     *\n     * @param {Array} items\n     * @param {Boolean} useIndicators\n     * @param {Boolean} useControls\n     * @param {String} height\n     *\n     * @returns {HtmlElement} Carousel element\n     */\n    static carousel(items, useIndicators, useControls, height) {\n        let id = 'carousel-' + (10000 + Math.floor(Math.random() * 10000));\n        \n        return _.div({class: 'carousel slide', id: id, 'data-ride': 'carousel', 'data-interval': 0},\n            _.if(useIndicators,\n                _.ol({class: 'carousel-indicators'},\n                    _.each(items, (i, item) => {\n                        return _.li({'data-target': '#' + id, 'data-slide-to': i, class: i == 0 ? 'active' : ''});\n                    })\n                )\n            ),\n            _.div({class: 'carousel-inner', role: 'listbox'},\n                _.each(items, (i, item) => {\n                    return _.div({class: 'item' + (i == 0? ' active': ''), style: 'height:' + (height || '500px')},\n                        item\n                    );\n                })\n            ),\n            _.if(useControls,\n                _.a({href: '#' + id, role: 'button', class: 'left carousel-control', 'data-slide': 'prev'},\n                    _.span({class: 'fa fa-arrow-left'})\n                ),\n                _.a({href: '#' + id, role: 'button', class: 'right carousel-control', 'data-slide': 'next'},\n                    _.span({class: 'fa fa-arrow-right'})\n                )\n            )\n        );\n    }\n\n    /**\n     * Brings up an error modal\n     *\n     * @param {String|Error} error\n     * @param {Function} onClickOK\n     */\n    static errorModal(error, onClickOK) {\n        if(!error) { return; }\n\n        if(error instanceof String) {\n            error = new Error(error);\n        \n        } else if(error instanceof Object) {\n            if(error.responseText) {\n                error = new Error(error.responseText);\n            }\n        \n        } else if(error instanceof Error === false) {\n            error = new Error(error.toString());\n\n        }\n       \n        debug.log(error.message + ': ' + error.stack, 'HashBrown');\n\n        return UIHelper.messageModal('<span class=\"fa fa-warning\"></span> Error', error.message, onClickOK, 'error');\n    }\n    \n    /**\n     * Brings up a warning modal\n     *\n     * @param {String} warning\n     * @param {Function} onClickOK\n     */\n    static warningModal(warning, onClickOK) {\n        if(!warning) { return; }\n\n        return UIHelper.messageModal('<span class=\"fa fa-warning\"></span> Warning', warning, onClickOK, 'warning');\n    }\n\n    /**\n     * Brings up a message modal\n     *\n     * @param {String} title\n     * @param {String} body\n     * @param {Function} onClickOK\n     * @param {String} group\n     */\n    static messageModal(title, body, onClickOK, group) {\n        let modal = new HashBrown.Views.Modals.Modal({\n            isBlocking: onClickOK === false,\n            title: title,\n            group: group,\n            body: body\n        });\n\n        if(onClickOK) {\n            modal.on('ok', onClickOK);\n        }\n\n        return modal;\n    }\n\n    /**\n     * Brings up an iframe modal\n     *\n     * @param {String} title\n     * @param {String} url\n     * @param {Function} onSubmit\n     * @param {Function} onCancel\n     */\n    static iframeModal(title, url, onSubmit, onCancel) {\n        let modal = new HashBrown.Views.Modals.IframeModal({\n            title: title,\n            url: url\n        });\n\n        if(typeof onSubmit === 'function') {\n            modal.on('ok', onSubmit);\n        }\n\n        if(typeof onCancel === 'function') {\n            modal.on('cancel', onCancel);\n        }\n       \n        return modal;\n    }\n\n    /**\n     * Brings up a confirm modal\n     *\n     * @param {String} type\n     * @param {String} title\n     * @param {String} body\n     * @param {Function} onSubmit\n     */\n    static confirmModal(type, title, body, onSubmit, onCancel) {\n        let modal = new HashBrown.Views.Modals.ConfirmModal({\n            type: type ? type.toLowerCase() : null,\n            title: title,\n            body: body\n        });\n\n        modal.on('cancel', onCancel);\n        modal.on('ok', onSubmit);\n\n        return modal;\n    }\n\n    /**\n     * Creates a context menu\n     */\n    static context(element, items) {\n        let openContextMenu = (e) => {\n            // Find any existing context menu targets and remove their classes\n            let clearTargets = () => {\n                let targets = document.querySelectorAll('.context-menu-target');\n            \n                if(targets) {\n                    for(let i = 0; i < targets.length; i++) {\n                        targets[i].classList.remove('context-menu-target');\n                    }\n                }\n            };\n\n            clearTargets();\n\n            // Set new target\n            element.classList.toggle('context-menu-target', true);\n            \n            // Remove existing dropdowns\n            let existingMenu = _.find('.widget--dropdown.context-menu');\n\n            if(existingMenu) { existingMenu.remove(); }\n\n            // Init new dropdown\n            let dropdown = new HashBrown.Views.Widgets.Dropdown({\n                options: items,\n                reverseKeys: true,\n                onChange: (pickedItem) => {\n                    if(typeof pickedItem !== 'function') { return; }\n\n                    pickedItem();\n                }\n            });\n\n            // Prevent the toggle button from blocking new context menu events\n            let toggle = dropdown.element.querySelector('.widget--dropdown__toggle');\n\n            toggle.addEventListener('contextmenu', (e) => {\n                e.preventDefault();\n                dropdown.toggle(false);\n            });\n\n            // Set cancel event\n            dropdown.on('cancel', () => {\n                dropdown.remove();\n\n                // Wait a bit before removing the classes, as they are often used as references in the functions executed by the context menu\n                setTimeout(() => {\n                    clearTargets();\n                }, 100);\n            });\n\n            // Set styles\n            let pageY = e.touches ? e.touches[0].pageY : e.pageY;\n            let pageX = e.touches ? e.touches[0].pageX : e.pageX;\n\n            dropdown.element.classList.toggle('context-menu', true);\n            dropdown.element.setAttribute('style', 'top: ' + pageY + 'px; left: ' + pageX + 'px;');\n\n            // Open it\n            dropdown.toggle(true);\n\n            // Append to body\n            document.body.appendChild(dropdown.element);\n        };\n        \n        element.addEventListener('contextmenu', (e) => {\n            e.preventDefault();\n            e.stopPropagation();\n                \n            openContextMenu(e);\n        });\n\n        element.addEventListener('click', (e) => {\n            if(e.which === 3 || e.ctrlKey) {\n                e.preventDefault();\n                e.stopPropagation();\n            \n                openContextMenu(e);\n            }\n        });\n        \n        element.addEventListener('touchstart', (e) => {\n            if(e.touchTargets && e.touchTargets.length > 1) {\n                e.preventDefault();\n                e.stopPropagation();\n\n                openContextMenu(e);\n            }\n        });\n    }\n}\n\nmodule.exports = UIHelper;\n","'use strict';\n\nconst EVENTS = {};\n\n/**\n * A helper class for triggering and registering EVENTS\n *\n * @memberof HashBrown.Client.Helpers\n */\nclass EventHelper {\n    /**\n     * Bind an event\n     *\n     * @param {String} type\n     * @param {String} id\n     * @param {Function} callback\n     */\n    static on(type, id, callback) {\n        checkParam(type, 'type', String);\n        checkParam(id, 'id', String);\n        checkParam(callback, 'callback', Function);\n\n        if(!EVENTS[type]) { EVENTS[type] = {}; }\n\n        EVENTS[type][id] = callback;\n    }\n\n    /**\n     * Unbind an event\n     *\n     * @param {String} type\n     * @param {String} id\n     */\n    static off(type, id) {\n        checkParam(type, 'type', String);\n        checkParam(id, 'id', String);\n\n        if(!EVENTS[type]) { return; }\n\n        delete EVENTS[type][id];\n    }\n\n    /**\n     * Triggers an event type\n     *\n     * @param {String} type\n     * @param {*} value\n     */\n    static trigger(type, value) {\n        if(!EVENTS[type]) { return; }\n\n        for(let id in EVENTS[type]) {\n            if(typeof EVENTS[type][id] !== 'function') { continue; }\n\n            EVENTS[type][id](value);\n        }\n    }\n}\n\nmodule.exports = EventHelper;\n"],"sourceRoot":""}